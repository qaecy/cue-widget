import{A as mn,B as Qr,C as Yr,D as Kr,E as Jr,F as Xr,G as eo,H as to,I as no,e as zr,m as dn,n as Fr,o as Vr,p as Br,q as qr,r as hn,s as dt,t as fn,u as pn,v as Wr,w as Gr,x as gn,y as Hr,z as Zr}from"./chunk-DAQI4YGE.js";import{C as jr,D as lt,G as Nr,H as $r,T as Lr,a as st,b as ln,c as Mr,d as ct,e as Ar,f as kr,u as Tr,v as ut,w as Pr,x as ye,y as Dr,z as Ur}from"./chunk-PJ7HGDON.js";import{$ as F,A as er,Ab as _r,Ac as Er,B as m,Bb as tn,C as Ht,Ca as D,Cb as nn,D as z,Da as fr,Dc as un,E as tr,Eb as A,F as Zt,Fa as w,Fb as Sr,Gc as H,Hc as I,I as nr,J as me,Jb as E,L as ve,M as De,Nb as S,O as Qt,Ob as R,P as be,Pb as V,Qb as re,R as nt,Rb as rn,S as ne,T as Yt,U as rr,Vb as Rr,W as or,Zb as on,_ as ir,_b as y,a as d,aa as ar,ab as v,b as $,ba as M,ca as P,cb as pr,db as gr,ea as C,fb as en,ga as sr,ha as de,i as b,ia as Kt,ic as je,ja as l,jb as mr,jc as Ne,kc as xr,la as rt,m as Qn,ma as ee,n as Yn,na as cr,o as Kn,oa as ot,p as Wt,pa as it,pb as vr,q as Gt,qc as at,r as ge,rb as br,rc as an,s as L,sa as Jt,sb as G,sc as sn,t as Jn,ta as ur,u as X,ub as yr,va as lr,w as B,wa as dr,wc as cn,x as f,xa as hr,xb as _,y as Pe,ya as Ue,yb as wr,yc as Ir,z as Xn,za as Xt,zb as Cr,zc as Or}from"./chunk-IVPYXZHS.js";var ro="0.0.1",oo={providers:[Or()]};var ai={schedule(t,r){let e=setTimeout(t,r);return()=>clearTimeout(e)}};function si(t){return t.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}function ci(t){return!!t&&t.nodeType===Node.ELEMENT_NODE}var vn;function ui(t,r){if(!vn){let e=Element.prototype;vn=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return t.nodeType===Node.ELEMENT_NODE?vn.call(t,r):!1}function li(t){let r={};return t.forEach(({propName:e,templateName:n,transform:o})=>{r[si(n)]=[e,o]}),r}function di(t,r){return r.get(en).resolveComponentFactory(t).inputs}function hi(t,r){let e=t.childNodes,n=r.map(()=>[]),o=-1;r.some((a,i)=>a==="*"?(o=i,!0):!1);for(let a=0,i=e.length;a<i;++a){let s=e[a],c=fi(s,r,o);c!==-1&&n[c].push(s)}return n}function fi(t,r,e){let n=e;return ci(t)&&r.some((o,a)=>o!=="*"&&ui(t,o)?(n=a,!0):!1),n}var pi=10,bn=class{componentFactory;inputMap=new Map;constructor(r,e){this.componentFactory=e.get(en).resolveComponentFactory(r);for(let n of this.componentFactory.inputs)this.inputMap.set(n.propName,n.templateName)}create(r){return new yn(this.componentFactory,r,this.inputMap)}},yn=class{componentFactory;injector;inputMap;eventEmitters=new Jn(1);events=this.eventEmitters.pipe(F(r=>nr(...r)));componentRef=null;scheduledDestroyFn=null;initialInputValues=new Map;ngZone;elementZone;appRef;cdScheduler;constructor(r,e,n){this.componentFactory=r,this.injector=e,this.inputMap=n,this.ngZone=this.injector.get(Xt),this.appRef=this.injector.get(_r),this.cdScheduler=e.get(dr),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(r){this.runInZone(()=>{if(this.scheduledDestroyFn!==null){this.scheduledDestroyFn(),this.scheduledDestroyFn=null;return}this.componentRef===null&&this.initializeComponent(r)})}disconnect(){this.runInZone(()=>{this.componentRef===null||this.scheduledDestroyFn!==null||(this.scheduledDestroyFn=ai.schedule(()=>{this.componentRef!==null&&(this.componentRef.destroy(),this.componentRef=null)},pi))})}getInputValue(r){return this.runInZone(()=>this.componentRef===null?this.initialInputValues.get(r):this.componentRef.instance[r])}setInputValue(r,e){if(this.componentRef===null){this.initialInputValues.set(r,e);return}this.runInZone(()=>{this.componentRef.setInput(this.inputMap.get(r)??r,e),pr(this.componentRef.hostView)&&(gr(this.componentRef.changeDetectorRef),this.cdScheduler.notify(6))})}initializeComponent(r){let e=ur.create({providers:[],parent:this.injector}),n=hi(r,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,n,r),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.appRef.attachView(this.componentRef.hostView),this.componentRef.hostView.detectChanges()}initializeInputs(){for(let[r,e]of this.initialInputValues)this.setInputValue(r,e);this.initialInputValues.clear()}initializeOutputs(r){let e=this.componentFactory.outputs.map(({propName:n,templateName:o})=>{let a=r.instance[n];return new Kn(i=>{let s=a.subscribe(c=>i.next({name:o,value:c}));return()=>s.unsubscribe()})});this.eventEmitters.next(e)}runInZone(r){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(r):r()}},wn=class extends HTMLElement{ngElementEventsSubscription=null};function io(t,r){let e=di(t,r.injector),n=r.strategyFactory||new bn(t,r.injector),o=li(e);class a extends wn{injector;static observedAttributes=Object.keys(o);get ngElementStrategy(){if(!this._ngElementStrategy){let s=this._ngElementStrategy=n.create(this.injector||r.injector);e.forEach(({propName:c,transform:u})=>{if(!this.hasOwnProperty(c))return;let p=this[c];delete this[c],s.setInputValue(c,p,u)})}return this._ngElementStrategy}_ngElementStrategy;constructor(s){super(),this.injector=s}attributeChangedCallback(s,c,u,p){let[x,k]=o[s];this.ngElementStrategy.setInputValue(x,u,k)}connectedCallback(){let s=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),s=!0),this.ngElementStrategy.connect(this),s||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(s=>{let c=new CustomEvent(s.name,{detail:s.value});this.dispatchEvent(c)})}}return e.forEach(({propName:i,transform:s})=>{Object.defineProperty(a.prototype,i,{get(){return this.ngElementStrategy.getInputValue(i)},set(c){this.ngElementStrategy.setInputValue(i,c,s)},configurable:!0,enumerable:!0})}),a}var Cn={contracts:()=>import("./chunk-CHHK6WET.js").then(t=>t.ContractsComponent),"document-search":()=>import("./chunk-WMAS6PL3.js").then(t=>t.DocumentSearchComponent),"document-search-simple":()=>import("./chunk-LALR3SGQ.js").then(t=>t.DocumentSearchSimpleComponent),"file-manager":()=>import("./chunk-3SQ5ZHIJ.js").then(t=>t.FileManagerComponent)};var mi=()=>[ln],vi=()=>[ln,$r];function bi(t,r){t&1&&re(0)}function yi(t,r){if(t&1&&_(0,bi,1,0,"ng-container",0),t&2){let e=y(3);A("ngComponentOutlet",e.currentComponent())}}function wi(t,r){if(t&1&&(_(0,yi,1,1),tn(1,0,mi)),t&2){let e=y(2);v(),nn(e.view()&&e.componentLoaded())}}function Ci(t,r){if(t&1&&(S(0,"cue-app-wrap"),_(1,wi,3,1),R()),t&2){let e=y();v(),E(e.view()?1:-1)}}function _i(t,r){t&1&&re(0)}function Si(t,r){if(t&1&&(S(0,"cue-container",1),_(1,_i,1,0,"ng-container",0),R()),t&2){let e=y(3);v(),A("ngComponentOutlet",e.currentComponent())}}function Ri(t,r){if(t&1&&(_(0,Si,2,1),tn(1,0,vi)),t&2){let e=y(2);v(),nn(e.view()&&e.componentLoaded())}}function xi(t,r){if(t&1&&_(0,Ri,3,1),t&2){let e=y();E(e.view()?0:-1)}}var ao=(()=>{class t{_settings=l(zr);view=D.required();token=D.required();projectId=D();userProjectRoles=D([]);useEmulators=D(!1);blobAuthenticator=D();useAppWrap=D(!0);info=w("");currentComponent=w(void 0);componentLoaded=w(!1);onProjectId=I(()=>this._settings.projectId.set(this.projectId()??""));onUserProjectRoles=I(()=>this._settings.userProjectRoles.update(()=>[...this.userProjectRoles()]));onToken=I(()=>this._settings.token.set(this.token()));onUseEmulators=I(()=>this._settings.useEmulators.set(this.useEmulators()));onComponentChange=I(()=>b(this,null,function*(){let e=this.view();if(e!==void 0&&e&&Cn[e]){let n=Cn[e],o=yield n();this.currentComponent.set(o),this.componentLoaded.set(!0)}}));static \u0275fac=function(n){return new(n||t)};static \u0275cmp=G({type:t,selectors:[["lib-cue-views"]],inputs:{view:[1,"view"],token:[1,"token"],projectId:[1,"projectId"],userProjectRoles:[1,"userProjectRoles"],useEmulators:[1,"useEmulators"],blobAuthenticator:[1,"blobAuthenticator"],useAppWrap:[1,"useAppWrap"]},decls:2,vars:1,consts:[[4,"ngComponentOutlet"],[2,"height","100%"]],template:function(n,o){n&1&&_(0,Ci,2,1,"cue-app-wrap")(1,xi,1,1),n&2&&E(o.useAppWrap()?0:1)},dependencies:[ct,Ur],encapsulation:2})}return t})();var Z=function(t){return t.GOOGLE="google.com",t.MICROSOFT="microsoft.com",t.USER_PW="USER_PW",t}(Z||{});var ht={FIREBASE_NOT_INITIALIZED:"Firebase has not been initialized",USER_NOT_AVAILABLE:"User data is not available"},so="superadmin";var ie=(()=>{class t{_firebase;_ready=w(!1);_usingEmulators=w(!1);get auth(){return this._firebase?.auth}get usingEmulators(){return this._usingEmulators}get ready(){return this._ready}get collectionUsers(){return this._firebase?.collectionUsers}get collectionProjects(){return this._firebase?.collectionProjects}get collectionOrganizations(){return this._firebase?.collectionOrganizations}attachEmulators(){this._firebase?.attachEmulators()}init(e){this._firebase=no.getInstance(e),this._usingEmulators.set(e.useEmulator),this._ready.set(!0)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var h="primary",Ke=Symbol("RouteTitle"),In=class{params;constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function pe(t){return new In(t)}function mo(t,r,e){let n=e.path.split("/");if(n.length>t.length||e.pathMatch==="full"&&(r.hasChildren()||n.length<t.length))return null;let o={};for(let a=0;a<n.length;a++){let i=n[a],s=t[a];if(i[0]===":")o[i.substring(1)]=s;else if(i!==s.path)return null}return{consumed:t.slice(0,n.length),posParams:o}}function Ii(t,r){if(t.length!==r.length)return!1;for(let e=0;e<t.length;++e)if(!Q(t[e],r[e]))return!1;return!0}function Q(t,r){let e=t?On(t):void 0,n=r?On(r):void 0;if(!e||!n||e.length!=n.length)return!1;let o;for(let a=0;a<e.length;a++)if(o=e[a],!vo(t[o],r[o]))return!1;return!0}function On(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function vo(t,r){if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return!1;let e=[...t].sort(),n=[...r].sort();return e.every((o,a)=>n[a]===o)}else return t===r}function bo(t){return t.length>0?t[t.length-1]:null}function ue(t){return Xn(t)?t:Cr(t)?B(Promise.resolve(t)):f(t)}var Oi={exact:wo,subset:Co},yo={exact:Ei,subset:Mi,ignored:()=>!0};function co(t,r,e){return Oi[e.paths](t.root,r.root,e.matrixParams)&&yo[e.queryParams](t.queryParams,r.queryParams)&&!(e.fragment==="exact"&&t.fragment!==r.fragment)}function Ei(t,r){return Q(t,r)}function wo(t,r,e){if(!he(t.segments,r.segments)||!gt(t.segments,r.segments,e)||t.numberOfChildren!==r.numberOfChildren)return!1;for(let n in r.children)if(!t.children[n]||!wo(t.children[n],r.children[n],e))return!1;return!0}function Mi(t,r){return Object.keys(r).length<=Object.keys(t).length&&Object.keys(r).every(e=>vo(t[e],r[e]))}function Co(t,r,e){return _o(t,r,r.segments,e)}function _o(t,r,e,n){if(t.segments.length>e.length){let o=t.segments.slice(0,e.length);return!(!he(o,e)||r.hasChildren()||!gt(o,e,n))}else if(t.segments.length===e.length){if(!he(t.segments,e)||!gt(t.segments,e,n))return!1;for(let o in r.children)if(!t.children[o]||!Co(t.children[o],r.children[o],n))return!1;return!0}else{let o=e.slice(0,t.segments.length),a=e.slice(t.segments.length);return!he(t.segments,o)||!gt(t.segments,o,n)||!t.children[h]?!1:_o(t.children[h],r,a,n)}}function gt(t,r,e){return r.every((n,o)=>yo[e](t[o].parameters,n.parameters))}var K=class{root;queryParams;fragment;_queryParamMap;constructor(r=new g([],{}),e={},n=null){this.root=r,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=pe(this.queryParams),this._queryParamMap}toString(){return Ti.serialize(this)}},g=class{segments;children;parent=null;constructor(r,e){this.segments=r,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mt(this)}},ae=class{path;parameters;_parameterMap;constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap??=pe(this.parameters),this._parameterMap}toString(){return Ro(this)}};function Ai(t,r){return he(t,r)&&t.every((e,n)=>Q(e.parameters,r[n].parameters))}function he(t,r){return t.length!==r.length?!1:t.every((e,n)=>e.path===r[n].path)}function ki(t,r){let e=[];return Object.entries(t.children).forEach(([n,o])=>{n===h&&(e=e.concat(r(o,n)))}),Object.entries(t.children).forEach(([n,o])=>{n!==h&&(e=e.concat(r(o,n)))}),e}var $t=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=C({token:t,factory:()=>new Re,providedIn:"root"})}return t})(),Re=class{parse(r){let e=new Mn(r);return new K(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){let e=`/${$e(r.root,!0)}`,n=Ui(r.queryParams),o=typeof r.fragment=="string"?`#${Pi(r.fragment)}`:"";return`${e}${n}${o}`}},Ti=new Re;function mt(t){return t.segments.map(r=>Ro(r)).join("/")}function $e(t,r){if(!t.hasChildren())return mt(t);if(r){let e=t.children[h]?$e(t.children[h],!1):"",n=[];return Object.entries(t.children).forEach(([o,a])=>{o!==h&&n.push(`${o}:${$e(a,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=ki(t,(n,o)=>o===h?[$e(t.children[h],!1)]:[`${o}:${$e(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[h]!=null?`${mt(t)}/${e[0]}`:`${mt(t)}/(${e.join("//")})`}}function So(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ft(t){return So(t).replace(/%3B/gi,";")}function Pi(t){return encodeURI(t)}function En(t){return So(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vt(t){return decodeURIComponent(t)}function uo(t){return vt(t.replace(/\+/g,"%20"))}function Ro(t){return`${En(t.path)}${Di(t.parameters)}`}function Di(t){return Object.entries(t).map(([r,e])=>`;${En(r)}=${En(e)}`).join("")}function Ui(t){let r=Object.entries(t).map(([e,n])=>Array.isArray(n)?n.map(o=>`${ft(e)}=${ft(o)}`).join("&"):`${ft(e)}=${ft(n)}`).filter(e=>e);return r.length?`?${r.join("&")}`:""}var ji=/^[^\/()?;#]+/;function _n(t){let r=t.match(ji);return r?r[0]:""}var Ni=/^[^\/()?;=#]+/;function $i(t){let r=t.match(Ni);return r?r[0]:""}var Li=/^[^=?&#]+/;function zi(t){let r=t.match(Li);return r?r[0]:""}var Fi=/^[^&#]+/;function Vi(t){let r=t.match(Fi);return r?r[0]:""}var Mn=class{url;remaining;constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new g([],{}):new g([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(n[h]=new g(r,e)),n}parseSegment(){let r=_n(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(r),new ae(vt(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let e=$i(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let o=_n(this.remaining);o&&(n=o,this.capture(n))}r[vt(e)]=vt(n)}parseQueryParam(r){let e=zi(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let i=Vi(this.remaining);i&&(n=i,this.capture(n))}let o=uo(e),a=uo(n);if(r.hasOwnProperty(o)){let i=r[o];Array.isArray(i)||(i=[i],r[o]=i),i.push(a)}else r[o]=a}parseParens(r){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=_n(this.remaining),o=this.remaining[n.length];if(o!=="/"&&o!==")"&&o!==";")throw new P(4010,!1);let a;n.indexOf(":")>-1?(a=n.slice(0,n.indexOf(":")),this.capture(a),this.capture(":")):r&&(a=h);let i=this.parseChildren();e[a]=Object.keys(i).length===1?i[h]:new g([],i),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new P(4011,!1)}};function xo(t){return t.segments.length>0?new g([],{[h]:t}):t}function Io(t){let r={};for(let[n,o]of Object.entries(t.children)){let a=Io(o);if(n===h&&a.segments.length===0&&a.hasChildren())for(let[i,s]of Object.entries(a.children))r[i]=s;else(a.segments.length>0||a.hasChildren())&&(r[n]=a)}let e=new g(t.segments,r);return Bi(e)}function Bi(t){if(t.numberOfChildren===1&&t.children[h]){let r=t.children[h];return new g(t.segments.concat(r.segments),r.children)}return t}function Ve(t){return t instanceof K}function Oo(t,r,e=null,n=null){let o=Eo(t);return Mo(o,r,e,n)}function Eo(t){let r;function e(a){let i={};for(let c of a.children){let u=e(c);i[c.outlet]=u}let s=new g(a.url,i);return a===t&&(r=s),s}let n=e(t.root),o=xo(n);return r??o}function Mo(t,r,e,n){let o=t;for(;o.parent;)o=o.parent;if(r.length===0)return Sn(o,o,o,e,n);let a=qi(r);if(a.toRoot())return Sn(o,o,new g([],{}),e,n);let i=Wi(a,o,t),s=i.processChildren?ze(i.segmentGroup,i.index,a.commands):ko(i.segmentGroup,i.index,a.commands);return Sn(o,i.segmentGroup,s,e,n)}function yt(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Be(t){return typeof t=="object"&&t!=null&&t.outlets}function Sn(t,r,e,n,o){let a={};n&&Object.entries(n).forEach(([c,u])=>{a[c]=Array.isArray(u)?u.map(p=>`${p}`):`${u}`});let i;t===r?i=e:i=Ao(t,r,e);let s=xo(Io(i));return new K(s,a,o)}function Ao(t,r,e){let n={};return Object.entries(t.children).forEach(([o,a])=>{a===r?n[o]=e:n[o]=Ao(a,r,e)}),new g(t.segments,n)}var wt=class{isAbsolute;numberOfDoubleDots;commands;constructor(r,e,n){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=n,r&&n.length>0&&yt(n[0]))throw new P(4003,!1);let o=n.find(Be);if(o&&o!==bo(n))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function qi(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new wt(!0,0,t);let r=0,e=!1,n=t.reduce((o,a,i)=>{if(typeof a=="object"&&a!=null){if(a.outlets){let s={};return Object.entries(a.outlets).forEach(([c,u])=>{s[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:s}]}if(a.segmentPath)return[...o,a.segmentPath]}return typeof a!="string"?[...o,a]:i===0?(a.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?e=!0:s===".."?r++:s!=""&&o.push(s))}),o):[...o,a]},[]);return new wt(e,r,n)}var _e=class{segmentGroup;processChildren;index;constructor(r,e,n){this.segmentGroup=r,this.processChildren=e,this.index=n}};function Wi(t,r,e){if(t.isAbsolute)return new _e(r,!0,0);if(!e)return new _e(r,!1,NaN);if(e.parent===null)return new _e(e,!0,0);let n=yt(t.commands[0])?0:1,o=e.segments.length-1+n;return Gi(e,o,t.numberOfDoubleDots)}function Gi(t,r,e){let n=t,o=r,a=e;for(;a>o;){if(a-=o,n=n.parent,!n)throw new P(4005,!1);o=n.segments.length}return new _e(n,!1,o-a)}function Hi(t){return Be(t[0])?t[0].outlets:{[h]:t}}function ko(t,r,e){if(t??=new g([],{}),t.segments.length===0&&t.hasChildren())return ze(t,r,e);let n=Zi(t,r,e),o=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let a=new g(t.segments.slice(0,n.pathIndex),{});return a.children[h]=new g(t.segments.slice(n.pathIndex),t.children),ze(a,0,o)}else return n.match&&o.length===0?new g(t.segments,{}):n.match&&!t.hasChildren()?An(t,r,e):n.match?ze(t,0,o):An(t,r,e)}function ze(t,r,e){if(e.length===0)return new g(t.segments,{});{let n=Hi(e),o={};if(Object.keys(n).some(a=>a!==h)&&t.children[h]&&t.numberOfChildren===1&&t.children[h].segments.length===0){let a=ze(t.children[h],r,e);return new g(t.segments,a.children)}return Object.entries(n).forEach(([a,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(o[a]=ko(t.children[a],r,i))}),Object.entries(t.children).forEach(([a,i])=>{n[a]===void 0&&(o[a]=i)}),new g(t.segments,o)}}function Zi(t,r,e){let n=0,o=r,a={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(n>=e.length)return a;let i=t.segments[o],s=e[n];if(Be(s))break;let c=`${s}`,u=n<e.length-1?e[n+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!ho(c,u,i))return a;n+=2}else{if(!ho(c,{},i))return a;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}function An(t,r,e){let n=t.segments.slice(0,r),o=0;for(;o<e.length;){let a=e[o];if(Be(a)){let c=Qi(a.outlets);return new g(n,c)}if(o===0&&yt(e[0])){let c=t.segments[r];n.push(new ae(c.path,lo(e[0]))),o++;continue}let i=Be(a)?a.outlets[h]:`${a}`,s=o<e.length-1?e[o+1]:null;i&&s&&yt(s)?(n.push(new ae(i,lo(s))),o+=2):(n.push(new ae(i,{})),o++)}return new g(n,{})}function Qi(t){let r={};return Object.entries(t).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(r[e]=An(new g([],{}),0,n))}),r}function lo(t){let r={};return Object.entries(t).forEach(([e,n])=>r[e]=`${n}`),r}function ho(t,r,e){return t==e.path&&Q(r,e.parameters)}var bt="imperative",O=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(O||{}),N=class{id;url;constructor(r,e){this.id=r,this.url=e}},xe=class extends N{type=O.NavigationStart;navigationTrigger;restoredState;constructor(r,e,n="imperative",o=null){super(r,e),this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},se=class extends N{urlAfterRedirects;type=O.NavigationEnd;constructor(r,e,n){super(r,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},U=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(U||{}),Ct=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ct||{}),Y=class extends N{reason;code;type=O.NavigationCancel;constructor(r,e,n,o){super(r,e),this.reason=n,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ce=class extends N{reason;code;type=O.NavigationSkipped;constructor(r,e,n,o){super(r,e),this.reason=n,this.code=o}},Ie=class extends N{error;target;type=O.NavigationError;constructor(r,e,n,o){super(r,e),this.error=n,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qe=class extends N{urlAfterRedirects;state;type=O.RoutesRecognized;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_t=class extends N{urlAfterRedirects;state;type=O.GuardsCheckStart;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},St=class extends N{urlAfterRedirects;state;shouldActivate;type=O.GuardsCheckEnd;constructor(r,e,n,o,a){super(r,e),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Rt=class extends N{urlAfterRedirects;state;type=O.ResolveStart;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xt=class extends N{urlAfterRedirects;state;type=O.ResolveEnd;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},It=class{route;type=O.RouteConfigLoadStart;constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ot=class{route;type=O.RouteConfigLoadEnd;constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Et=class{snapshot;type=O.ChildActivationStart;constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mt=class{snapshot;type=O.ChildActivationEnd;constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},At=class{snapshot;type=O.ActivationStart;constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kt=class{snapshot;type=O.ActivationEnd;constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var We=class{},Oe=class{url;navigationBehaviorOptions;constructor(r,e){this.url=r,this.navigationBehaviorOptions=e}};function Yi(t,r){return t.providers&&!t._injector&&(t._injector=br(t.providers,r,`Route: ${t.path}`)),t._injector??r}function q(t){return t.outlet||h}function Ki(t,r){let e=t.filter(n=>q(n)===r);return e.push(...t.filter(n=>q(n)!==r)),e}function Je(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let r=t.parent;r;r=r.parent){let e=r.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Tt=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Je(this.route?.snapshot)??this.rootInjector}constructor(r){this.rootInjector=r,this.children=new Xe(this.rootInjector)}},Xe=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let o=this.getOrCreateContext(e);o.outlet=n,this.contexts.set(e,o)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Tt(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||t)(Kt(rt))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Pt=class{_root;constructor(r){this._root=r}get root(){return this._root.value}parent(r){let e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){let e=kn(r,this._root);return e?e.children.map(n=>n.value):[]}firstChild(r){let e=kn(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){let e=Tn(r,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==r)}pathFromRoot(r){return Tn(r,this._root).map(e=>e.value)}};function kn(t,r){if(t===r.value)return r;for(let e of r.children){let n=kn(t,e);if(n)return n}return null}function Tn(t,r){if(t===r.value)return[r];for(let e of r.children){let n=Tn(t,e);if(n.length)return n.unshift(r),n}return[]}var j=class{value;children;constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}};function Ce(t){let r={};return t&&t.children.forEach(e=>r[e.value.outlet]=e),r}var Ge=class extends Pt{snapshot;constructor(r,e){super(r),this.snapshot=e,zn(this,r)}toString(){return this.snapshot.toString()}};function To(t){let r=Ji(t),e=new L([new ae("",{})]),n=new L({}),o=new L({}),a=new L({}),i=new L(""),s=new Ee(e,n,a,i,o,h,t,r.root);return s.snapshot=r.root,new Ge(new j(s,[]),r)}function Ji(t){let r={},e={},n={},o="",a=new fe([],r,n,o,e,h,t,null,{});return new He("",new j(a,[]))}var Ee=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(r,e,n,o,a,i,s,c){this.urlSubject=r,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=a,this.outlet=i,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(m(u=>u[Ke]))??f(void 0),this.url=r,this.params=e,this.queryParams=n,this.fragment=o,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(m(r=>pe(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(m(r=>pe(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Dt(t,r,e="emptyOnly"){let n,{routeConfig:o}=t;return r!==null&&(e==="always"||o?.path===""||!r.component&&!r.routeConfig?.loadComponent)?n={params:d(d({},r.params),t.params),data:d(d({},r.data),t.data),resolve:d(d(d(d({},t.data),r.data),o?.data),t._resolvedData)}:n={params:d({},t.params),data:d({},t.data),resolve:d(d({},t.data),t._resolvedData??{})},o&&Do(o)&&(n.resolve[Ke]=o.title),n}var fe=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ke]}constructor(r,e,n,o,a,i,s,c,u){this.url=r,this.params=e,this.queryParams=n,this.fragment=o,this.data=a,this.outlet=i,this.component=s,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=pe(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=pe(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${e}')`}},He=class extends Pt{url;constructor(r,e){super(e),this.url=r,zn(this,e)}toString(){return Po(this._root)}};function zn(t,r){r.value._routerState=t,r.children.forEach(e=>zn(t,e))}function Po(t){let r=t.children.length>0?` { ${t.children.map(Po).join(", ")} } `:"";return`${t.value}${r}`}function Rn(t){if(t.snapshot){let r=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Q(r.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),r.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Q(r.params,e.params)||t.paramsSubject.next(e.params),Ii(r.url,e.url)||t.urlSubject.next(e.url),Q(r.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Pn(t,r){let e=Q(t.params,r.params)&&Ai(t.url,r.url),n=!t.parent!=!r.parent;return e&&!n&&(!t.parent||Pn(t.parent,r.parent))}function Do(t){return typeof t.title=="string"||t.title===null}var Uo=new de(""),jo=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=h;activateEvents=new Ue;deactivateEvents=new Ue;attachEvents=new Ue;detachEvents=new Ue;routerOutletData=D(void 0);parentContexts=l(Xe);location=l(mr);changeDetector=l(Er);inputBinder=l(Fn,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:o}=e.name;if(n)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=e;let o=this.location,i=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new Dn(e,s,o.injector,this.routerOutletData);this.activated=o.createComponent(i,{index:o.length,injector:c,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=yr({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[cr]})}return t})(),Dn=class{route;childContexts;parent;outletData;constructor(r,e,n,o){this.route=r,this.childContexts=e,this.parent=n,this.outletData=o}get(r,e){return r===Ee?this.route:r===Xe?this.childContexts:r===Uo?this.outletData:this.parent.get(r,e)}},Fn=new de("");function Xi(t,r,e){let n=Ze(t,r._root,e?e._root:void 0);return new Ge(n,r)}function Ze(t,r,e){if(e&&t.shouldReuseRoute(r.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=r.value;let o=ea(t,r,e);return new j(n,o)}else{if(t.shouldAttach(r.value)){let a=t.retrieve(r.value);if(a!==null){let i=a.route;return i.value._futureSnapshot=r.value,i.children=r.children.map(s=>Ze(t,s)),i}}let n=ta(r.value),o=r.children.map(a=>Ze(t,a));return new j(n,o)}}function ea(t,r,e){return r.children.map(n=>{for(let o of e.children)if(t.shouldReuseRoute(n.value,o.value.snapshot))return Ze(t,n,o);return Ze(t,n)})}function ta(t){return new Ee(new L(t.url),new L(t.params),new L(t.queryParams),new L(t.fragment),new L(t.data),t.outlet,t.component,t)}var Me=class{redirectTo;navigationBehaviorOptions;constructor(r,e){this.redirectTo=r,this.navigationBehaviorOptions=e}},No="ngNavigationCancelingError";function Ut(t,r){let{redirectTo:e,navigationBehaviorOptions:n}=Ve(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,o=$o(!1,U.Redirect);return o.url=e,o.navigationBehaviorOptions=n,o}function $o(t,r){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[No]=!0,e.cancellationCode=r,e}function na(t){return Lo(t)&&Ve(t.url)}function Lo(t){return!!t&&t[No]}var ra=(t,r,e,n)=>m(o=>(new Un(r,o.targetRouterState,o.currentRouterState,e,n).activate(t),o)),Un=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(r,e,n,o,a){this.routeReuseStrategy=r,this.futureState=e,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=a}activate(r){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,r),Rn(this.futureState.root),this.activateChildRoutes(e,n,r)}deactivateChildRoutes(r,e,n){let o=Ce(e);r.children.forEach(a=>{let i=a.value.outlet;this.deactivateRoutes(a,o[i],n),delete o[i]}),Object.values(o).forEach(a=>{this.deactivateRouteAndItsChildren(a,n)})}deactivateRoutes(r,e,n){let o=r.value,a=e?e.value:null;if(o===a)if(o.component){let i=n.getContext(o.outlet);i&&this.deactivateChildRoutes(r,e,i.children)}else this.deactivateChildRoutes(r,e,n);else a&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){let n=e.getContext(r.value.outlet),o=n&&r.value.component?n.children:e,a=Ce(r);for(let i of Object.values(a))this.deactivateRouteAndItsChildren(i,o);if(n&&n.outlet){let i=n.outlet.detach(),s=n.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:i,route:r,contexts:s})}}deactivateRouteAndOutlet(r,e){let n=e.getContext(r.value.outlet),o=n&&r.value.component?n.children:e,a=Ce(r);for(let i of Object.values(a))this.deactivateRouteAndItsChildren(i,o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(r,e,n){let o=Ce(e);r.children.forEach(a=>{this.activateRoutes(a,o[a.value.outlet],n),this.forwardEvent(new kt(a.value.snapshot))}),r.children.length&&this.forwardEvent(new Mt(r.value.snapshot))}activateRoutes(r,e,n){let o=r.value,a=e?e.value:null;if(Rn(o),o===a)if(o.component){let i=n.getOrCreateContext(o.outlet);this.activateChildRoutes(r,e,i.children)}else this.activateChildRoutes(r,e,n);else if(o.component){let i=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let s=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),i.children.onOutletReAttached(s.contexts),i.attachRef=s.componentRef,i.route=s.route.value,i.outlet&&i.outlet.attach(s.componentRef,s.route.value),Rn(s.route.value),this.activateChildRoutes(r,null,i.children)}else i.attachRef=null,i.route=o,i.outlet&&i.outlet.activateWith(o,i.injector),this.activateChildRoutes(r,null,i.children)}else this.activateChildRoutes(r,null,n)}},jt=class{path;route;constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},Se=class{component;route;constructor(r,e){this.component=r,this.route=e}};function oa(t,r,e){let n=t._root,o=r?r._root:null;return Le(n,o,e,[n.value])}function ia(t){let r=t.routeConfig?t.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:t,guards:r}}function ke(t,r){let e=Symbol(),n=r.get(t,e);return n===e?typeof t=="function"&&!sr(t)?t:r.get(t):n}function Le(t,r,e,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let a=Ce(r);return t.children.forEach(i=>{aa(i,a[i.value.outlet],e,n.concat([i.value]),o),delete a[i.value.outlet]}),Object.entries(a).forEach(([i,s])=>Fe(s,e.getContext(i),o)),o}function aa(t,r,e,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let a=t.value,i=r?r.value:null,s=e?e.getContext(t.value.outlet):null;if(i&&a.routeConfig===i.routeConfig){let c=sa(i,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new jt(n)):(a.data=i.data,a._resolvedData=i._resolvedData),a.component?Le(t,r,s?s.children:null,n,o):Le(t,r,e,n,o),c&&s&&s.outlet&&s.outlet.isActivated&&o.canDeactivateChecks.push(new Se(s.outlet.component,i))}else i&&Fe(r,s,o),o.canActivateChecks.push(new jt(n)),a.component?Le(t,null,s?s.children:null,n,o):Le(t,null,e,n,o);return o}function sa(t,r,e){if(typeof e=="function")return e(t,r);switch(e){case"pathParamsChange":return!he(t.url,r.url);case"pathParamsOrQueryParamsChange":return!he(t.url,r.url)||!Q(t.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pn(t,r)||!Q(t.queryParams,r.queryParams);case"paramsChange":default:return!Pn(t,r)}}function Fe(t,r,e){let n=Ce(t),o=t.value;Object.entries(n).forEach(([a,i])=>{o.component?r?Fe(i,r.children.getContext(a),e):Fe(i,null,e):Fe(i,r,e)}),o.component?r&&r.outlet&&r.outlet.isActivated?e.canDeactivateChecks.push(new Se(r.outlet.component,o)):e.canDeactivateChecks.push(new Se(null,o)):e.canDeactivateChecks.push(new Se(null,o))}function et(t){return typeof t=="function"}function ca(t){return typeof t=="boolean"}function ua(t){return t&&et(t.canLoad)}function la(t){return t&&et(t.canActivate)}function da(t){return t&&et(t.canActivateChild)}function ha(t){return t&&et(t.canDeactivate)}function fa(t){return t&&et(t.canMatch)}function zo(t){return t instanceof er||t?.name==="EmptyError"}var pt=Symbol("INITIAL_VALUE");function Ae(){return F(t=>Ht(t.map(r=>r.pipe(be(1),ir(pt)))).pipe(m(r=>{for(let e of r)if(e!==!0){if(e===pt)return pt;if(e===!1||pa(e))return e}return!0}),me(r=>r!==pt),be(1)))}function pa(t){return Ve(t)||t instanceof Me}function ga(t,r){return z(e=>{let{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:a,canDeactivateChecks:i}}=e;return i.length===0&&a.length===0?f($(d({},e),{guardsResult:!0})):ma(i,n,o,t).pipe(z(s=>s&&ca(s)?va(n,a,t,r):f(s)),m(s=>$(d({},e),{guardsResult:s})))})}function ma(t,r,e,n){return B(t).pipe(z(o=>_a(o.component,o.route,e,r,n)),ne(o=>o!==!0,!0))}function va(t,r,e,n){return B(r).pipe(De(o=>tr(ya(o.route.parent,n),ba(o.route,n),Ca(t,o.path,e),wa(t,o.route,e))),ne(o=>o!==!0,!0))}function ba(t,r){return t!==null&&r&&r(new At(t)),f(!0)}function ya(t,r){return t!==null&&r&&r(new Et(t)),f(!0)}function wa(t,r,e){let n=r.routeConfig?r.routeConfig.canActivate:null;if(!n||n.length===0)return f(!0);let o=n.map(a=>Zt(()=>{let i=Je(r)??e,s=ke(a,i),c=la(s)?s.canActivate(r,t):ee(i,()=>s(r,t));return ue(c).pipe(ne())}));return f(o).pipe(Ae())}function Ca(t,r,e){let n=r[r.length-1],a=r.slice(0,r.length-1).reverse().map(i=>ia(i)).filter(i=>i!==null).map(i=>Zt(()=>{let s=i.guards.map(c=>{let u=Je(i.node)??e,p=ke(c,u),x=da(p)?p.canActivateChild(n,t):ee(u,()=>p(n,t));return ue(x).pipe(ne())});return f(s).pipe(Ae())}));return f(a).pipe(Ae())}function _a(t,r,e,n,o){let a=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!a||a.length===0)return f(!0);let i=a.map(s=>{let c=Je(r)??o,u=ke(s,c),p=ha(u)?u.canDeactivate(t,r,e,n):ee(c,()=>u(t,r,e,n));return ue(p).pipe(ne())});return f(i).pipe(Ae())}function Sa(t,r,e,n){let o=r.canLoad;if(o===void 0||o.length===0)return f(!0);let a=o.map(i=>{let s=ke(i,t),c=ua(s)?s.canLoad(r,e):ee(t,()=>s(r,e));return ue(c)});return f(a).pipe(Ae(),Fo(n))}function Fo(t){return Yn(M(r=>{if(typeof r!="boolean")throw Ut(t,r)}),m(r=>r===!0))}function Ra(t,r,e,n){let o=r.canMatch;if(!o||o.length===0)return f(!0);let a=o.map(i=>{let s=ke(i,t),c=fa(s)?s.canMatch(r,e):ee(t,()=>s(r,e));return ue(c)});return f(a).pipe(Ae(),Fo(n))}var Qe=class{segmentGroup;constructor(r){this.segmentGroup=r||null}},Ye=class extends Error{urlTree;constructor(r){super(),this.urlTree=r}};function we(t){return Pe(new Qe(t))}function xa(t){return Pe(new P(4e3,!1))}function Ia(t){return Pe($o(!1,U.GuardRejected))}var jn=class{urlSerializer;urlTree;constructor(r,e){this.urlSerializer=r,this.urlTree=e}lineralizeSegments(r,e){let n=[],o=e.root;for(;;){if(n=n.concat(o.segments),o.numberOfChildren===0)return f(n);if(o.numberOfChildren>1||!o.children[h])return xa(`${r.redirectTo}`);o=o.children[h]}}applyRedirectCommands(r,e,n,o,a){if(typeof e!="string"){let s=e,{queryParams:c,fragment:u,routeConfig:p,url:x,outlet:k,params:W,data:T,title:te}=o,J=ee(a,()=>s({params:W,data:T,queryParams:c,fragment:u,routeConfig:p,url:x,outlet:k,title:te}));if(J instanceof K)throw new Ye(J);e=J}let i=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),r,n);if(e[0]==="/")throw new Ye(i);return i}applyRedirectCreateUrlTree(r,e,n,o){let a=this.createSegmentGroup(r,e.root,n,o);return new K(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){let n={};return Object.entries(r).forEach(([o,a])=>{if(typeof a=="string"&&a[0]===":"){let s=a.substring(1);n[o]=e[s]}else n[o]=a}),n}createSegmentGroup(r,e,n,o){let a=this.createSegments(r,e.segments,n,o),i={};return Object.entries(e.children).forEach(([s,c])=>{i[s]=this.createSegmentGroup(r,c,n,o)}),new g(a,i)}createSegments(r,e,n,o){return e.map(a=>a.path[0]===":"?this.findPosParam(r,a,o):this.findOrReturn(a,n))}findPosParam(r,e,n){let o=n[e.path.substring(1)];if(!o)throw new P(4001,!1);return o}findOrReturn(r,e){let n=0;for(let o of e){if(o.path===r.path)return e.splice(n),o;n++}return r}},Nn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Oa(t,r,e,n,o){let a=Vo(t,r,e);return a.matched?(n=Yi(r,n),Ra(n,r,e,o).pipe(m(i=>i===!0?a:d({},Nn)))):f(a)}function Vo(t,r,e){if(r.path==="**")return Ea(e);if(r.path==="")return r.pathMatch==="full"&&(t.hasChildren()||e.length>0)?d({},Nn):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(r.matcher||mo)(e,t,r);if(!o)return d({},Nn);let a={};Object.entries(o.posParams??{}).forEach(([s,c])=>{a[s]=c.path});let i=o.consumed.length>0?d(d({},a),o.consumed[o.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:i,positionalParamSegments:o.posParams??{}}}function Ea(t){return{matched:!0,parameters:t.length>0?bo(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function fo(t,r,e,n){return e.length>0&&ka(t,e,n)?{segmentGroup:new g(r,Aa(n,new g(e,t.children))),slicedSegments:[]}:e.length===0&&Ta(t,e,n)?{segmentGroup:new g(t.segments,Ma(t,e,n,t.children)),slicedSegments:e}:{segmentGroup:new g(t.segments,t.children),slicedSegments:e}}function Ma(t,r,e,n){let o={};for(let a of e)if(Lt(t,r,a)&&!n[q(a)]){let i=new g([],{});o[q(a)]=i}return d(d({},n),o)}function Aa(t,r){let e={};e[h]=r;for(let n of t)if(n.path===""&&q(n)!==h){let o=new g([],{});e[q(n)]=o}return e}function ka(t,r,e){return e.some(n=>Lt(t,r,n)&&q(n)!==h)}function Ta(t,r,e){return e.some(n=>Lt(t,r,n))}function Lt(t,r,e){return(t.hasChildren()||r.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Pa(t,r,e){return r.length===0&&!t.children[e]}var $n=class{};function Da(t,r,e,n,o,a,i="emptyOnly"){return new Ln(t,r,e,n,o,i,a).recognize()}var Ua=31,Ln=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(r,e,n,o,a,i,s){this.injector=r,this.configLoader=e,this.rootComponentType=n,this.config=o,this.urlTree=a,this.paramsInheritanceStrategy=i,this.urlSerializer=s,this.applyRedirects=new jn(this.urlSerializer,this.urlTree)}noMatchError(r){return new P(4002,`'${r.segmentGroup}'`)}recognize(){let r=fo(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(m(({children:e,rootSnapshot:n})=>{let o=new j(n,e),a=new He("",o),i=Oo(n,[],this.urlTree.queryParams,this.urlTree.fragment);return i.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(i),{state:a,tree:i}}))}match(r){let e=new fe([],Object.freeze({}),Object.freeze(d({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),h,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,r,h,e).pipe(m(n=>({children:n,rootSnapshot:e})),ve(n=>{if(n instanceof Ye)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Qe?this.noMatchError(n):n}))}processSegmentGroup(r,e,n,o,a){return n.segments.length===0&&n.hasChildren()?this.processChildren(r,e,n,a):this.processSegment(r,e,n,n.segments,o,!0,a).pipe(m(i=>i instanceof j?[i]:[]))}processChildren(r,e,n,o){let a=[];for(let i of Object.keys(n.children))i==="primary"?a.unshift(i):a.push(i);return B(a).pipe(De(i=>{let s=n.children[i],c=Ki(e,i);return this.processSegmentGroup(r,c,s,i,o)}),or((i,s)=>(i.push(...s),i)),Qt(null),rr(),z(i=>{if(i===null)return we(n);let s=Bo(i);return ja(s),f(s)}))}processSegment(r,e,n,o,a,i,s){return B(e).pipe(De(c=>this.processSegmentAgainstRoute(c._injector??r,e,c,n,o,a,i,s).pipe(ve(u=>{if(u instanceof Qe)return f(null);throw u}))),ne(c=>!!c),ve(c=>{if(zo(c))return Pa(n,o,a)?f(new $n):we(n);throw c}))}processSegmentAgainstRoute(r,e,n,o,a,i,s,c){return q(n)!==i&&(i===h||!Lt(o,a,n))?we(o):n.redirectTo===void 0?this.matchSegmentAgainstRoute(r,o,n,a,i,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(r,o,e,n,a,i,c):we(o)}expandSegmentAgainstRouteUsingRedirect(r,e,n,o,a,i,s){let{matched:c,parameters:u,consumedSegments:p,positionalParamSegments:x,remainingSegments:k}=Vo(e,o,a);if(!c)return we(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ua&&(this.allowRedirects=!1));let W=new fe(a,u,Object.freeze(d({},this.urlTree.queryParams)),this.urlTree.fragment,po(o),q(o),o.component??o._loadedComponent??null,o,go(o)),T=Dt(W,s,this.paramsInheritanceStrategy);W.params=Object.freeze(T.params),W.data=Object.freeze(T.data);let te=this.applyRedirects.applyRedirectCommands(p,o.redirectTo,x,W,r);return this.applyRedirects.lineralizeSegments(o,te).pipe(z(J=>this.processSegment(r,n,e,J.concat(k),i,!1,s)))}matchSegmentAgainstRoute(r,e,n,o,a,i){let s=Oa(e,n,o,r,this.urlSerializer);return n.path==="**"&&(e.children={}),s.pipe(F(c=>c.matched?(r=n._injector??r,this.getChildConfig(r,n,o).pipe(F(({routes:u})=>{let p=n._loadedInjector??r,{parameters:x,consumedSegments:k,remainingSegments:W}=c,T=new fe(k,x,Object.freeze(d({},this.urlTree.queryParams)),this.urlTree.fragment,po(n),q(n),n.component??n._loadedComponent??null,n,go(n)),te=Dt(T,i,this.paramsInheritanceStrategy);T.params=Object.freeze(te.params),T.data=Object.freeze(te.data);let{segmentGroup:J,slicedSegments:qt}=fo(e,k,W,u);if(qt.length===0&&J.hasChildren())return this.processChildren(p,u,J,T).pipe(m(tt=>new j(T,tt)));if(u.length===0&&qt.length===0)return f(new j(T,[]));let ii=q(n)===a;return this.processSegment(p,u,J,qt,ii?h:a,!0,T).pipe(m(tt=>new j(T,tt instanceof j?[tt]:[])))}))):we(e)))}getChildConfig(r,e,n){return e.children?f({routes:e.children,injector:r}):e.loadChildren?e._loadedRoutes!==void 0?f({routes:e._loadedRoutes,injector:e._loadedInjector}):Sa(r,e,n,this.urlSerializer).pipe(z(o=>o?this.configLoader.loadChildren(r,e).pipe(M(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):Ia(e))):f({routes:[],injector:r})}};function ja(t){t.sort((r,e)=>r.value.outlet===h?-1:e.value.outlet===h?1:r.value.outlet.localeCompare(e.value.outlet))}function Na(t){let r=t.value.routeConfig;return r&&r.path===""}function Bo(t){let r=[],e=new Set;for(let n of t){if(!Na(n)){r.push(n);continue}let o=r.find(a=>n.value.routeConfig===a.value.routeConfig);o!==void 0?(o.children.push(...n.children),e.add(o)):r.push(n)}for(let n of e){let o=Bo(n.children);r.push(new j(n.value,o))}return r.filter(n=>!e.has(n))}function po(t){return t.data||{}}function go(t){return t.resolve||{}}function $a(t,r,e,n,o,a){return z(i=>Da(t,r,e,n,i.extractedUrl,o,a).pipe(m(({state:s,tree:c})=>$(d({},i),{targetSnapshot:s,urlAfterRedirects:c}))))}function La(t,r){return z(e=>{let{targetSnapshot:n,guards:{canActivateChecks:o}}=e;if(!o.length)return f(e);let a=new Set(o.map(c=>c.route)),i=new Set;for(let c of a)if(!i.has(c))for(let u of qo(c))i.add(u);let s=0;return B(i).pipe(De(c=>a.has(c)?za(c,n,t,r):(c.data=Dt(c,c.parent,t).resolve,f(void 0))),M(()=>s++),Yt(1),z(c=>s===i.size?f(e):X))})}function qo(t){let r=t.children.map(e=>qo(e)).flat();return[t,...r]}function za(t,r,e,n){let o=t.routeConfig,a=t._resolve;return o?.title!==void 0&&!Do(o)&&(a[Ke]=o.title),Fa(a,t,r,n).pipe(m(i=>(t._resolvedData=i,t.data=Dt(t,t.parent,e).resolve,null)))}function Fa(t,r,e,n){let o=On(t);if(o.length===0)return f({});let a={};return B(o).pipe(z(i=>Va(t[i],r,e,n).pipe(ne(),M(s=>{if(s instanceof Me)throw Ut(new Re,s);a[i]=s}))),Yt(1),m(()=>a),ve(i=>zo(i)?X:Pe(i)))}function Va(t,r,e,n){let o=Je(r)??n,a=ke(t,o),i=a.resolve?a.resolve(r,e):ee(o,()=>a(r,e));return ue(i)}function xn(t){return F(r=>{let e=t(r);return e?B(e).pipe(m(()=>r)):f(r)})}var Vn=(()=>{class t{buildTitle(e){let n,o=e.root;for(;o!==void 0;)n=this.getResolvedTitleForRoute(o)??n,o=o.children.find(a=>a.outlet===h);return n}getResolvedTitleForRoute(e){return e.data[Ke]}static \u0275fac=function(n){return new(n||t)};static \u0275prov=C({token:t,factory:()=>l(Wo),providedIn:"root"})}return t})(),Wo=(()=>{class t extends Vn{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||t)(Kt(kr))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zt=new de("",{providedIn:"root",factory:()=>({})}),Go=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=G({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,o){n&1&&V(0,"router-outlet")},dependencies:[jo],encapsulation:2})}return t})();function Bn(t){let r=t.children&&t.children.map(Bn),e=r?$(d({},t),{children:r}):d({},t);return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==h&&(e.component=Go),e}var qn=new de(""),Ba=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=l(Ir);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return f(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=ue(e.loadComponent()).pipe(m(Zo),M(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),nt(()=>{this.componentLoaders.delete(e)})),o=new Gt(n,()=>new ge).pipe(Wt());return this.componentLoaders.set(e,o),o}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return f({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let a=Ho(n,this.compiler,e,this.onLoadEndListener).pipe(nt(()=>{this.childrenLoaders.delete(n)})),i=new Gt(a,()=>new ge).pipe(Wt());return this.childrenLoaders.set(n,i),i}static \u0275fac=function(n){return new(n||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ho(t,r,e,n){return ue(t.loadChildren()).pipe(m(Zo),z(o=>o instanceof vr||Array.isArray(o)?f(o):B(r.compileModuleAsync(o))),m(o=>{n&&n(t);let a,i,s=!1;return Array.isArray(o)?(i=o,s=!0):(a=o.create(e).injector,i=a.get(qn,[],{optional:!0,self:!0}).flat()),{routes:i.map(Bn),injector:a}}))}function qa(t){return t&&typeof t=="object"&&"default"in t}function Zo(t){return qa(t)?t.default:t}var Ft=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=C({token:t,factory:()=>l(Wa),providedIn:"root"})}return t})(),Wa=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ga=new de("");var Ha=new de(""),Za=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ge;transitionAbortSubject=new ge;configLoader=l(Ba);environmentInjector=l(rt);destroyRef=l(lr);urlSerializer=l($t);rootContexts=l(Xe);location=l(st);inputBindingEnabled=l(Fn,{optional:!0})!==null;titleStrategy=l(Vn);options=l(zt,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=l(Ft);createViewTransition=l(Ga,{optional:!0});navigationErrorHandler=l(Ha,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>f(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=o=>this.events.next(new It(o)),n=o=>this.events.next(new Ot(o));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next($(d({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:n}))}setupNavigations(e){return this.transitions=new L(null),this.transitions.pipe(me(n=>n!==null),F(n=>{let o=!1,a=!1;return f(n).pipe(F(i=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",U.SupersededByNewNavigation),X;this.currentTransition=n,this.currentNavigation={id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?$(d({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let s=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=i.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!s&&c!=="reload"){let u="";return this.events.next(new ce(i.id,this.urlSerializer.serialize(i.rawUrl),u,Ct.IgnoredSameUrlNavigation)),i.resolve(!1),X}if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return f(i).pipe(F(u=>(this.events.next(new xe(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?X:Promise.resolve(u))),$a(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),M(u=>{n.targetSnapshot=u.targetSnapshot,n.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=$(d({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let p=new qe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:u,extractedUrl:p,source:x,restoredState:k,extras:W}=i,T=new xe(u,this.urlSerializer.serialize(p),x,k);this.events.next(T);let te=To(this.rootComponentType).snapshot;return this.currentTransition=n=$(d({},i),{targetSnapshot:te,urlAfterRedirects:p,extras:$(d({},W),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,f(n)}else{let u="";return this.events.next(new ce(i.id,this.urlSerializer.serialize(i.extractedUrl),u,Ct.IgnoredByUrlHandlingStrategy)),i.resolve(!1),X}}),M(i=>{let s=new _t(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),m(i=>(this.currentTransition=n=$(d({},i),{guards:oa(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),n)),ga(this.environmentInjector,i=>this.events.next(i)),M(i=>{if(n.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw Ut(this.urlSerializer,i.guardsResult);let s=new St(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(s)}),me(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",U.GuardRejected),!1)),xn(i=>{if(i.guards.canActivateChecks.length!==0)return f(i).pipe(M(s=>{let c=new Rt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),F(s=>{let c=!1;return f(s).pipe(La(this.paramsInheritanceStrategy,this.environmentInjector),M({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",U.NoDataFromResolver)}}))}),M(s=>{let c=new xt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),xn(i=>{let s=c=>{let u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(M(p=>{c.component=p}),m(()=>{})));for(let p of c.children)u.push(...s(p));return u};return Ht(s(i.targetSnapshot.root)).pipe(Qt(null),be(1))}),xn(()=>this.afterPreactivation()),F(()=>{let{currentSnapshot:i,targetSnapshot:s}=n,c=this.createViewTransition?.(this.environmentInjector,i.root,s.root);return c?B(c).pipe(m(()=>n)):f(n)}),m(i=>{let s=Xi(e.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=n=$(d({},i),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,n}),M(()=>{this.events.next(new We)}),ra(this.rootContexts,e.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),be(1),M({next:i=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new se(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),ar(this.transitionAbortSubject.pipe(M(i=>{throw i}))),nt(()=>{!o&&!a&&this.cancelNavigationTransition(n,"",U.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation=null,this.currentTransition=null)}),ve(i=>{if(this.destroyed)return n.resolve(!1),X;if(a=!0,Lo(i))this.events.next(new Y(n.id,this.urlSerializer.serialize(n.extractedUrl),i.message,i.cancellationCode)),na(i)?this.events.next(new Oe(i.url,i.navigationBehaviorOptions)):n.resolve(!1);else{let s=new Ie(n.id,this.urlSerializer.serialize(n.extractedUrl),i,n.targetSnapshot??void 0);try{let c=ee(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof Me){let{message:u,cancellationCode:p}=Ut(this.urlSerializer,c);this.events.next(new Y(n.id,this.urlSerializer.serialize(n.extractedUrl),u,p)),this.events.next(new Oe(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),i}catch(c){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(c)}}return X}))}))}cancelNavigationTransition(e,n,o){let a=new Y(e.id,this.urlSerializer.serialize(e.extractedUrl),n,o);this.events.next(a),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Qa(t){return t!==bt}var Qo=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=C({token:t,factory:()=>l(Ya),providedIn:"root"})}return t})(),Nt=class{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}},Ya=(()=>{class t extends Nt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Jt(t)))(o||t)}})();static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yo=(()=>{class t{urlSerializer=l($t);options=l(zt,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=l(st);urlHandlingStrategy=l(Ft);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new K;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:n,targetBrowserUrl:o}){let a=e!==void 0?this.urlHandlingStrategy.merge(e,n):n,i=o??a;return i instanceof K?this.urlSerializer.serialize(i):i}commitTransition({targetRouterState:e,finalUrl:n,initialUrl:o}){n&&e?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,o),this.routerState=e):this.rawUrlTree=o}routerState=To(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=C({token:t,factory:()=>l(Ka),providedIn:"root"})}return t})(),Ka=(()=>{class t extends Yo{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{e(n.url,n.state,"popstate")})})}handleRouterEvent(e,n){e instanceof xe?this.updateStateMemento():e instanceof ce?this.commitTransition(n):e instanceof qe?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof We?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof Y&&(e.code===U.GuardRejected||e.code===U.NoDataFromResolver)?this.restoreHistory(n):e instanceof Ie?this.restoreHistory(n,!0):e instanceof se&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:n,id:o}){let{replaceUrl:a,state:i}=n;if(this.location.isCurrentPathEqualTo(e)||a){let s=this.browserPageId,c=d(d({},i),this.generateNgRouterState(o,s));this.location.replaceState(e,"",c)}else{let s=d(d({},i),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(e,"",s)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.getCurrentUrlTree()===e.finalUrl&&a===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Jt(t)))(o||t)}})();static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ko(t,r){t.events.pipe(me(e=>e instanceof se||e instanceof Y||e instanceof Ie||e instanceof ce),m(e=>e instanceof se||e instanceof ce?0:(e instanceof Y?e.code===U.Redirect||e.code===U.SupersededByNewNavigation:!1)?2:1),me(e=>e!==2),be(1)).subscribe(()=>{r()})}var Ja={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=l(wr);stateManager=l(Yo);options=l(zt,{optional:!0})||{};pendingTasks=l(hr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=l(Za);urlSerializer=l($t);location=l(st);urlHandlingStrategy=l(Ft);_events=new ge;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=l(Qo);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=l(qn,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!l(Fn,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Qn;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(n,a),n instanceof Y&&n.code!==U.Redirect&&n.code!==U.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof se)this.navigated=!0;else if(n instanceof Oe){let i=n.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(n.url,o.currentRawUrl),c=d({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Qa(o.source)},i);this.scheduleNavigation(s,bt,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}ts(n)&&this._events.next(n)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n,o)=>{this.navigateToSyncWithBrowser(e,o,n)})}navigateToSyncWithBrowser(e,n,o){let a={replaceUrl:!0},i=o?.navigationId?o:null;if(o){let c=d({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(a.state=c)}let s=this.parseUrl(e);this.scheduleNavigation(s,n,i,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Bn),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:o,queryParams:a,fragment:i,queryParamsHandling:s,preserveFragment:c}=n,u=c?this.currentUrlTree.fragment:i,p=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":p=d(d({},this.currentUrlTree.queryParams),a);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=a||null}p!==null&&(p=this.removeEmptyProps(p));let x;try{let k=o?o.snapshot:this.routerState.snapshot.root;x=Eo(k)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),x=this.currentUrlTree.root}return Mo(x,e,p,u??null)}navigateByUrl(e,n={skipLocationChange:!1}){let o=Ve(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,bt,null,n)}navigate(e,n={skipLocationChange:!1}){return es(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let o;if(n===!0?o=d({},Ja):n===!1?o=d({},Xa):o=n,Ve(e))return co(this.currentUrlTree,e,o);let a=this.parseUrl(e);return co(this.currentUrlTree,a,o)}removeEmptyProps(e){return Object.entries(e).reduce((n,[o,a])=>(a!=null&&(n[o]=a),n),{})}scheduleNavigation(e,n,o,a,i){if(this.disposed)return Promise.resolve(!1);let s,c,u;i?(s=i.resolve,c=i.reject,u=i.promise):u=new Promise((x,k)=>{s=x,c=k});let p=this.pendingTasks.add();return Ko(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:a,resolve:s,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(x=>Promise.reject(x))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function es(t){for(let r=0;r<t.length;r++)if(t[r]==null)throw new P(4008,!1)}function ts(t){return!(t instanceof We)&&!(t instanceof Oe)}var le=(()=>{class t{_auth;_firebase=l(ie);_router=l(Wn);_user=w(void 0);_selectedProvider=w(void 0);_isSuperAdmin=w(!1);_token=w(void 0);_tokenRefreshUnsubscribe;userIds=H(()=>{let e=this._user();if(!e||e===void 0)return[];let n=[e.uid];return e.providerData.forEach(o=>n.push(o.uid)),n});onFirebaseReady=I(()=>{if(this._firebase.ready()){let e=this._firebase.auth;if(!e)return;this._auth=e,e.onAuthStateChanged(n=>b(this,null,function*(){if(n){this._subscribeToTokenChanges(),this._user.update(()=>Object.assign({},n));let a=yield this._getClaims(n);this._getRole(a)===so&&this._isSuperAdmin.set(!0)}else{console.log("User signed out, resetting auth state"),this._user.update(()=>{}),this._token.set(void 0);let a=this._tokenRefreshUnsubscribe;a!==void 0&&a()}let o=new CustomEvent("firebase-auth-changed",{detail:{auth:e,user:n}});document.dispatchEvent(o)}))}});get user(){return this._user}get auth(){return this._auth}get token(){return this._token}get isSuperAdmin(){return this._isSuperAdmin}signIn(e,n){return b(this,null,function*(){if(console.log(e),this._auth===void 0)throw new Error("Auth not ready");try{yield Zr(this._auth,e,n)}catch(o){window.alert(o.message)}})}signOut(){return b(this,null,function*(){if(this._auth===void 0)throw new Error("Auth not ready");this._user.set(void 0),yield Xr(this._auth),this._router.navigate(["/auth/sign-in"])})}signInSSO(e){return b(this,null,function*(){if(this._selectedProvider.set(e),this._auth===void 0)throw new Error("Auth not ready");let n=e===Z.GOOGLE?new pn:new fn(e);try{return(yield eo(this._auth,n)).user}catch(o){throw o.message.includes("existing users")?new Error("This account does not exist in our system."):(console.error(o),new Error("Sign in failed"))}})}forgotPassword(e){return b(this,null,function*(){if(this._auth===void 0)throw new Error("Auth not ready");e=e.trim();let n;try{n=yield mn(this._auth,e)}catch{throw new Error("Couldn't fetch sign-in methods for e-mail")}if(!n.length)throw new Error("Email not found.");if(!n.includes("password")){let o=n.filter(a=>a!=="password").join(", ");throw new Error(`The email is only registered with SSO, so there is no password to reset. Available methods: ${o}`)}try{yield Hr(this._auth,e)}catch(o){throw o.code==="auth/user-not-found"?new Error("Email not found."):(console.error(o),new Error("Password reset failed"))}})}updatePassword(e,n){return b(this,null,function*(){let o=this._auth?.currentUser;if(!o||o===void 0)throw new Error("User not set");let a=o?.email;if(!a||a===void 0)throw new Error("User has no e-mail");let i=dt.credential(o.email,e);yield gn(o,i),yield Kr(o,n)})}getSignInMethods(){return b(this,null,function*(){if(this._auth===void 0)throw new Error("Auth not ready");let n=this._auth.currentUser?.email;if(!n||n===void 0)throw new Error("User has no e-mail");return yield mn(this._auth,n)})}linkProvider(e){return b(this,null,function*(){if(this._auth===void 0)throw new Error("Auth not ready");let n=this._auth.currentUser;if(!n||n===void 0)throw new Error("No user");let o=e==="google.com"?new pn:new fn(e),i=(yield to(n,o)).user.providerData.find(s=>s.providerId===e);return i===void 0?"-":this.buildProviderLabel(i)})}buildProviderLabel(e){let n="-";return e.displayName&&!e.email&&(n=e.displayName),!e.displayName&&e.email&&(n=e.email),e.displayName&&e.email&&(n=`${e.displayName} (${e.email})`),n}unlinkProvider(e){return b(this,null,function*(){let n=this._auth?.currentUser;if(!n||n===void 0)throw new Error("No user");yield Wr(n,e)})}addPassword(e){return b(this,null,function*(){let n=this._auth?.currentUser,o=n?.email;if(!o||o===void 0)throw new Error("User has no e-mail");let a=dt.credential(o,e);yield Gr(n,a)})}updateEmail(e,n){return b(this,null,function*(){let o=this._auth?.currentUser;if(!o?.email)throw new Error("User e-mail not available");let a=dt.credential(o.email,n);yield gn(o,a),yield Yr(o,e),yield Qr(o)})}_getClaims(e){return b(this,null,function*(){return(yield e.getIdTokenResult()).claims})}_getRole(e){return e.role??""}_subscribeToTokenChanges(){if(this._auth===void 0)throw new Error("Auth not available");this._tokenRefreshUnsubscribe=Jr(this._auth,e=>b(this,null,function*(){if(e){let n=yield e.getIdToken();this._token.set(n)}}))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Jo=(()=>{class t{_firebase=l(ie);_auth=l(le);_collection=this._firebase.collectionProjects;_projects=w(void 0);_projectsUnsubscribe;_subscribedToProjects=!1;_projectData=w(void 0,{equal:(e,n)=>e?.id===n?.id});_projectDataUnsubscribe;onSignOut=I(()=>{this._auth.user()===void 0&&this.destroy()});get projectData(){return this._projectData}get projects(){return this._projects}destroy(){this._unsubscribe(this._projectsUnsubscribe),this._unsubscribe(this._projectDataUnsubscribe)}subscribeToUserProjects(e){if(this._collection===void 0)throw new Error(ht.FIREBASE_NOT_INITIALIZED);if(this._subscribedToProjects){console.info("Already subscribed to projects");return}this._subscribedToProjects=!0,console.info("Subscribing to user projects...");let n=Fr(this._collection,Vr("members","array-contains",e),Br(100));this._projectsUnsubscribe=hn(n,o=>b(this,null,function*(){let a=o.docs.map(i=>i.data());this._projects.update(()=>[...a])}))}subscribeToProject(e){if(this._collection===void 0)throw new Error(ht.FIREBASE_NOT_INITIALIZED);if(e===void 0){this._projectData.set(void 0);return}let n=dn(this._collection,e);this._projectDataUnsubscribe=hn(n,o=>b(this,null,function*(){o.exists()&&this._projectData.update(()=>o.data())}))}createProjectIfNotExists(e){return b(this,null,function*(){if(this._collection===void 0)throw new Error(ht.FIREBASE_NOT_INITIALIZED);let n=dn(this._collection,e.id);try{yield qr(n,d({},e))}catch(o){console.warn(o)}})}_unsubscribe(e){e!==void 0&&e()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Vt=class{fab=new Gn;auth=new Hn;hostApp=ei.SHAREPOINT;config},Gn=class{containerWidth="400px";containerHeight="70vh"},Hn=class{userPwEnabled=!0;providers=[Z.MICROSOFT];persistence=Xo.LOCAL},Xo=function(t){return t.LOCAL="LOCAL",t.SESSION="SESSION",t.NONE="NONE",t}(Xo||{}),ei=function(t){return t.SHAREPOINT="sharepoint",t.IODIGITAL="iodigital",t}(ei||{}),Zn=["admin","syncer","member"];var Te=(()=>{class t{projectId=w("");view=w(void 0);fabMode=w(!1);options=w(new Vt);static \u0275fac=function(n){return new(n||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ns(t,r){if(t&1&&V(0,"lib-cue-views",1),t&2){let e=y(),n=sn(1),o=sn(2);A("view",n)("token",o)("projectId",e.projectId$())("userProjectRoles",e.userProjectRoles$())("useEmulators",e.useEmulators$())("useAppWrap",!1)}}function rs(t,r){t&1&&(S(0,"p"),Ne(1,"No view defined"),R())}function os(t,r){t&1&&(S(0,"p"),Ne(1,"Token not available"),R())}var ti=(()=>{class t{_state=l(Te);_firebase=l(ie);_auth=l(le);_projectRepo=l(Jo);useEmulators$=this._firebase.usingEmulators;projectId$=this._state.projectId;token$=this._auth.token;view$=this._state.view;onProjectChange=I(()=>{if(!this._firebase.ready())return;let e=this.projectId$();e!==void 0&&this._projectRepo.subscribeToProject(e)});userProjectRoles$=H(()=>{if(!this._firebase.ready())return[];let e=this._auth.user()?.uid,n=this._projectRepo.projectData();if(e===void 0||n===void 0)return[];let o=[],a=!1;return Zn.forEach((i,s)=>{let c=n[`${i}s`];!a&&c!==void 0&&c.includes(e)&&(o.push(...Zn.slice(s)),a=!0)}),o});ngOnDestroy(){this._projectRepo.destroy()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=G({type:t,selectors:[["app-cue-view"]],decls:6,vars:5,consts:[["direction","column",2,"height","100%","width","100%"],[2,"height","100%",3,"view","token","projectId","userProjectRoles","useEmulators","useAppWrap"]],template:function(n,o){if(n&1&&(S(0,"cue-flexcontainer",0),at(1)(2),_(3,ns,1,6,"lib-cue-views",1)(4,rs,2,0,"p")(5,os,2,0,"p"),R()),n&2){v();let a=an(o.view$());v();let i=an(o.token$());v(),E(a&&i?3:-1),v(),E(a?-1:4),v(),E(i?-1:5)}},dependencies:[ye,ao],styles:['@font-face{font-family:Material Icons;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialicons/v143/flUhRq6tzZclQEJ-Vdg-IuiaDsNc.woff2) format("woff2")}@font-face{font-family:Material Icons Outlined;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialiconsoutlined/v109/gok-H7zzDkdnRel8-DQ6KAXJ69wP1tGnf4ZGhUce.woff2) format("woff2")}@font-face{font-family:Material Icons Round;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialiconsround/v108/LDItaoyNOAY6Uewc665JcIzCKsKc_M9flwmP.woff2) format("woff2")}@font-face{font-family:Material Icons Sharp;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialiconssharp/v109/oPWQ_lt5nv4pWNJpghLP75WiFR4kLh3kvmvR.woff2) format("woff2")}@font-face{font-family:Material Icons Two Tone;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialiconstwotone/v112/hESh6WRmNCxEqUmNyh3JDeGxjVVyMg4tHGctNCu0.woff2) format("woff2")}body[_ngcontent-%COMP%]{--google-font-color-materialiconstwotone:none}.material-icons[_ngcontent-%COMP%]{font-family:Material Icons;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}.material-icons-outlined[_ngcontent-%COMP%]{font-family:Material Icons Outlined;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}.material-icons-round[_ngcontent-%COMP%]{font-family:Material Icons Round;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}.material-icons-sharp[_ngcontent-%COMP%]{font-family:Material Icons Sharp;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}.material-icons-two-tone[_ngcontent-%COMP%]{font-family:Material Icons Two Tone;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}[_ngcontent-%COMP%]:root{--cue-font-family: "Poppins";--cue-font-weight-regular: 400;--cue-font-weight-medium: 500;--cue-font-weight-semibold: 600;--cue-font-xs-size: 56.25% ;--cue-font-xs-line-height: calc(16 / 11);--cue-font-xs-letter-spacing: .075em;--cue-font-s-size: 68.75% ;--cue-font-s-line-height: calc(16 / 11);--cue-font-s-letter-spacing: .05em;--cue-font-m-size: 87.5% ;--cue-font-m-line-height: calc(20 / 14);--cue-font-m-letter-spacing: .04em;--cue-font-l-size: 112.5% ;--cue-font-l-line-height: calc(24 / 18);--cue-font-l-letter-spacing: .01em;--cue-font-xl-size: 150% ;--cue-font-xl-line-height: calc(32 / 24);--cue-font-xl-letter-spacing: .01em}[_ngcontent-%COMP%]:root{--cue-color-blue: #2859e1;--cue-color-darkblue: #1744c2;--cue-color-ultralightgray: #f5f6f9;--cue-color-lightgray: #d9d9d9;--cue-color-midgray: #8394b0;--cue-color-darkmidgray: #404955;--cue-color-darkgray: #121c2b;--cue-color-black: #0e1827;--cue-color-white: #ffffff;--cue-color-green: #e2f552;--cue-main-background: var(--cue-color-ultralightgray);--cue-main-foreground: var(--cue-color-darkgray);--cue-default: var(--cue-color-white);--cue-defaultContrast: var(--cue-color-darkgray);--cue-primary: var(--cue-color-blue);--cue-primaryContrast: var(--cue-color-white);--cue-accent: var(--cue-color-green);--cue-accentContrast: var(--cue-color-darkgray);--cue-secondary: var(--cue-color-darkblue);--cue-secondaryContrast: var(--cue-color-white);--cue-neutral: var(--cue-color-midgray);--cue-neutralContrast: var(--cue-color-darkgray);--cue-info: var(--cue-color-darkblue);--cue-infoContrast: var(--cue-color-white);--cue-error: #fc2626;--cue-errorContrast: var(--cue-color-white);--cue-success: #4caf50;--cue-successContrast: var(--cue-color-white);--cue-warning: #ffc107;--cue-warningContrast: var(--cue-color-white);--cue-border-color: var(--cue-color-lightgray);--cue-scrollbar-thumb-color: var(--cue-color-lightgray);--cue-scrollbar-track-color: transparent}body.dark[_ngcontent-%COMP%]{--cue-main-background: var(--cue-color-darkgray);--cue-main-foreground: var(--cue-color-white);--cue-default: var(--cue-color-black);--cue-defaultContrast: var(--cue-color-ultralightgray);--cue-neutral: var(--cue-color-midgray);--cue-neutralContrast: var(--cue-color-white);--cue-border-color: var(--cue-color-darkmidgray);--cue-scrollbar-thumb-color: var(--cue-color-darkmidgray)}[_ngcontent-%COMP%]:root{--cue-dim-gap-s: .5em ;--cue-dim-gap-m: 1em ;--cue-dim-gap-l: 1.875em ;--cue-dim-elem-xs: 1.5em ;--cue-dim-elem-s: 2em ;--cue-dim-elem-m: 2.75em ;--cue-dim-s-gap-s: .375em ;--cue-dim-s-gap-m: .625em ;--cue-dim-s-gap-l: 1em ;--cue-dim-s-elem-xs: 1em ;--cue-dim-s-elem-s: 1.25em ;--cue-dim-s-elem-m: 1.75em ;--cue-dim-padding-main: .625em ;--cue-dim-padding-sub: .625em }@media (min-width: 20em){[_ngcontent-%COMP%]:root{--cue-dim-padding-main: 1.25em ;--cue-dim-padding-sub: .625em }}@media (min-width: 40em){[_ngcontent-%COMP%]:root{--cue-dim-padding-main: 2em ;--cue-dim-padding-sub: 1em }}[_ngcontent-%COMP%]:root{--cue-card-border-radius: 1.875em ;--cue-card-padding-x: 1em ;--cue-card-padding-y: 1em ;--cue-card-border-color: var(--cue-border-color);--cue-card-box-shadow: 0 1px 1.5em rgba(0, 0, 0, .2)}body.dark[_ngcontent-%COMP%]{--cue-card-box-shadow: 0 1px 1.5em rgba(255, 255, 255, .3);--cue-card-border-color: var(--cue-border-color)}@container cue-container (width < 20em){cue-card[_ngcontent-%COMP%]{--cue-card-border-radius: 1.25em ;--cue-card-padding-x: .75em ;--cue-card-padding-y: .75em }}[_ngcontent-%COMP%]:root{--cue-button-gap: .5em ;--cue-button-xs-height: var(--cue-dim-elem-xs);--cue-button-xs-padding-x: .1875em ;--cue-button-xs-icon-width: 1.125em ;--cue-button-s-height: var(--cue-dim-elem-s);--cue-button-s-padding-x: .375em ;--cue-button-s-icon-width: 1.25em ;--cue-button-m-height: var(--cue-dim-elem-m);--cue-button-m-padding-x: .625em ;--cue-button-m-icon-width: 1.5em ;--cue-button-border-radius: var(--button-height);--cue-button-border-width: 1px;--cue-button-border-style: solid;--cue-button-primary-background: var(--cue-color-blue);--cue-button-primary-foreground: var(--cue-color-white);--cue-button-primary-focus-color: var(--cue-color-blue);--cue-button-primary-border-color: var(--cue-color-blue);--cue-button-primary-disabled-foreground: var( --background-color, --cue-main-background );--cue-button-primary-disabled-foreground: var(--cue-color-lightgray);--cue-button-primary-disabled-background: var(--cue-color-ultralightgray);--cue-button-primary-disabled-border-color: var(--cue-color-ultralightgray);--cue-button-accent-background: var(--cue-accent);--cue-button-accent-foreground: var(--cue-accentContrast);--cue-button-accent-focus-color: var(--cue-accent);--cue-button-accent-border-color: var(--cue-accent);--cue-button-accent-disabled-foreground: var( --background-color, --cue-main-background );--cue-button-accent-disabled-foreground: var(--cue-color-lightgray);--cue-button-accent-disabled-background: var(--cue-color-ultralightgray);--cue-button-accent-disabled-border-color: var(--cue-color-ultralightgray);--cue-button-secondary-background: transparent;--cue-button-secondary-foreground: currentColor;--cue-button-secondary-focus-color: currentColor;--cue-button-secondary-border-color: currentColor;--cue-button-secondary-disabled-background: transparent;--cue-button-secondary-disabled-foreground: var(--cue-color-midgray);--cue-button-secondary-disabled-border-color: var(--cue-color-midgray);--cue-button-tertiary-background: transparent;--cue-button-tertiary-foreground: currentColor;--cue-button-tertiary-focus-color: currentColor;--cue-button-tertiary-border-color: trasnparent;--cue-button-tertiary-disabled-background: transparent;--cue-button-tertiary-disabled-foreground: var(--cue-color-midgray);--cue-button-tertiary-disabled-border-color: transparent;--cue-button-s-label-padding-x: 1em ;--cue-button-m-label-padding-x: 1.5em ;--cue-button-l-label-padding-x: 3em }@media (prefers-color-scheme: dark){[_ngcontent-%COMP%]:root{--cue-button-primary-disabled-foreground: var(--cue-color-midgray);--cue-button-primary-disabled-border-color: var(--cue-color-midgray);--cue-button-primary-disabled-background: var(--cue-color-lightgray);--cue-button-secondary-disabled-foreground: var(--cue-color-darkmidgray);--cue-button-secondary-disabled-border-color: var(--cue-color-darkmidgray);--cue-button-tertiary-disabled-foreground: var(--cue-color-darkmidgray)}}@container cue-container (width < 20em){cue-button[_ngcontent-%COMP%]{--cue-button-xs-height: var(--cue-dim-s-elem-xs);--cue-button-xs-padding-x: .0625em ;--cue-button-xs-icon-width: .75em ;--cue-button-s-height: var(--cue-dim-s-elem-s);--cue-button-s-padding-x: .25em ;--cue-button-s-icon-width: 1em ;--cue-button-m-height: var(--cue-dim-s-elem-m);--cue-button-m-padding-x: .25em ;--cue-button-m-icon-width: 1.125em }}[_ngcontent-%COMP%]:root{--cue-input-switch-background: var(--cue-color-midgray);--cue-input-switch-indicator-background: var(--cue-color-white);--cue-input-switch-indicator-foreground: var(--cue-color-black);--cue-input-switch-focus-color: var(--cue-color-white);--cue-input-switch-checked-background: var(--cue-color-darkblue);--cue-input-switch-checked-indicator-background: var(--cue-color-white);--cue-input-switch-checked-indicator-foreground: var(--cue-color-black);--cue-input-switch-disabled-background: var(--cue-color-midgray);--cue-input-switch-disabled-indicator-background: var(--cue-color-lightgray);--cue-input-switch-disabled-indicator-foreground: var(--cue-color-midgray)}[_ngcontent-%COMP%]:root{--cue-menu-border-radius: .9375em ;--cue-menu-padding-x: .5em ;--cue-menu-padding-y: .5em ;--cue-menu-gap: .5em ;--cue-menu-background-color: var(--cue-color-white);--cue-menu-foreground-color: var(--cue-color-black);--cue-menu-border-color: var(--cue-border-color);--cue-menu-box-shadow: 0 1px 1.25em rgba(0, 0, 0, .1);--cue-menu-item-background-color: var(--cue-color-white);--cue-menu-item-selected-background-color: var(--cue-color-lightgray);--cue-menu-item-focus-background-color: var(--cue-color-ultralightgray);--cue-menu-item-height: var(--cue-dim-elem-m);--cue-menu-item-border-radius: .9375em ;--cue-menu-item-padding-x: 1em ;--cue-menu-item-gap: 1em ;--cue-menu-item-icon-size: 1.25em }body.dark[_ngcontent-%COMP%]{--cue-menu-box-shadow: 0 1px 1.25em rgba(255, 255, 255, .1);--cue-menu-background-color: var(--cue-color-black);--cue-menu-foreground-color: var(--cue-color-white);--cue-menu-border-color: var(--cue-border-color);--cue-menu-item-background-color: var(--cue-color-black);--cue-menu-item-selected-background-color: var(--cue-color-midgray);--cue-menu-item-focus-background-color: var(--cue-color-darkmidgray)}[_ngcontent-%COMP%]:root{--cue-grid-gap-s: var(--cue-dim-gap-s);--cue-grid-gap-m: var(--cue-dim-gap-m);--cue-grid-gap-l: var(--cue-dim-gap-l)}[_ngcontent-%COMP%]:root{--cue-paginator-text-color: var(--cue-main-foreground)}body.dark[_ngcontent-%COMP%]{--cue-paginator-text-color: var(--cue-main-foreground)}[_ngcontent-%COMP%]:root{--cue-table-row-border-bottom: 1px solid;--cue-table-row-border-bottom-color: var(--cue-color-midgray);--cue-table-text-color: var(--cue-main-foreground);--cue-table-highlight-color: var(--cue-color-green);--cue-table-selected-color: var(--cue-color-green)}body.dark[_ngcontent-%COMP%]{--cue-table-row-border-bottom-color: var(--cue-color-lightgray);--cue-table-text-color: var(--cue-main-foreground)}[_ngcontent-%COMP%]:root{--cue-flex-gap-s: var(--cue-dim-gap-s);--cue-flex-gap-m: var(--cue-dim-gap-m);--cue-flex-gap-l: var(--cue-dim-gap-l)}[_ngcontent-%COMP%]:root{--cue-icon-width: var(--cue-dim-elem-xs)}[_ngcontent-%COMP%]:root{color-scheme:light}html[_ngcontent-%COMP%]{padding:0;margin:0;height:100%;width:100%}body[_ngcontent-%COMP%]{display:flex;flex-direction:column}body.dark[_ngcontent-%COMP%]{color-scheme:dark}body[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{scrollbar-color:var(--cue-scrollbar-thumb-color) var(--cue-scrollbar-track-color);scrollbar-width:thin;scroll-behavior:smooth}.sb-show-main[_ngcontent-%COMP%], .sb-main-padded[_ngcontent-%COMP%]{display:flex!important;min-height:100%;padding:0!important}.sb-show-main[_ngcontent-%COMP%]   #storybook-root[_ngcontent-%COMP%], .sb-main-padded[_ngcontent-%COMP%]   #storybook-root[_ngcontent-%COMP%]{display:contents}.sb-show-main[_ngcontent-%COMP%]   #storybook-root[_ngcontent-%COMP%]   storybook-root[_ngcontent-%COMP%], .sb-main-padded[_ngcontent-%COMP%]   #storybook-root[_ngcontent-%COMP%]   storybook-root[_ngcontent-%COMP%]{display:contents}.docs-story[_ngcontent-%COMP%]{background-color:var(--cue-main-background)!important;color:var(--cue-main-foreground)!important}'],changeDetection:0})}return t})();function is(t,r){if(t&1&&(S(0,"cue-flexcontainer",1),V(1,"cue-sign-in",3),R()),t&2){let e=y();v(),A("minimal",!0)("ssoOnly",e.ssoOnly())("ssoOptions",e.ssoOptions())("handlers",e.signInHandlers)}}function as(t,r){if(t&1&&(S(0,"cue-flexcontainer",2)(1,"cue-flexcontainer",4)(2,"cue-typography",5),Rr(3,0),R(),V(4,"cue-logo",6),R(),S(5,"cue-card",7),V(6,"cue-sign-in",8),R()()),t&2){let e=y();v(4),A("active",!0),v(2),A("minimal",!0)("ssoOptions",e.ssoOptions())("handlers",e.signInHandlers)}}var ni=(()=>{class t{_state=l(Te);_auth=l(le);_providerMap=new Map;fabMode=this._state.fabMode;_authOptions=H(()=>this._state.options().auth);ssoOnly=H(()=>{let e=this._state.options().auth.userPwEnabled;return this._state.options().auth.providers.length>0&&!e});ssoOptions=H(()=>{let e=[];return this._authOptions().providers.forEach(o=>{let a=this._providerMap.get(o);a!==void 0&&e.push(a)}),e});signInHandlers={passwordReset:e=>b(this,null,function*(){return this._auth.forgotPassword(e)}),userPWLogin:(e,n)=>b(this,null,function*(){return this._auth.signIn(e,n)})};constructor(){this._providerMap.set(Z.GOOGLE,{icon:"google",label:"Google",handler:()=>b(this,null,function*(){return this._auth.signInSSO(Z.GOOGLE)})}),this._providerMap.set(Z.MICROSOFT,{icon:"microsoft",label:"Microsoft",handler:()=>b(this,null,function*(){return this._auth.signInSSO(Z.MICROSOFT)})})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=G({type:t,selectors:[["app-auth"]],decls:2,vars:1,consts:()=>{let e;return e=$localize`Welcome to`,[e,["justify","center","align","center",2,"height","100%"],["direction","column","justify","center","align","center"],["view","sign-in",2,"width","80%",3,"minimal","ssoOnly","ssoOptions","handlers"],[2,"margin","2em 0"],["size","xl"],[2,"width","100px",3,"active"],["variant","primary",2,"width","80%","max-width","300px"],["view","sign-in",3,"minimal","ssoOptions","handlers"]]},template:function(n,o){n&1&&_(0,is,2,4,"cue-flexcontainer",1)(1,as,7,4,"cue-flexcontainer",2),n&2&&E(o.fabMode()?0:1)},dependencies:[Lr,ye,lt,ut,Pr],encapsulation:2,changeDetection:0})}return t})();function ss(t,r){if(t&1&&(S(0,"cue-flexcontainer",4)(1,"cue-card",5)(2,"cue-typography"),Ne(3),R()()()),t&2){let e=y(2);v(3),xr(e.inputError())}}function cs(t,r){t&1&&V(0,"app-auth",6)}function us(t,r){t&1&&V(0,"app-cue-view",7)}function ls(t,r){if(t&1&&_(0,cs,1,0,"app-auth",6)(1,us,1,0,"app-cue-view",7),t&2){let e=y(2);E(e.token()?1:0)}}function ds(t,r){if(t&1&&_(0,ss,4,1,"cue-flexcontainer",4)(1,ls,2,1),t&2){let e=y();E(e.inputError()?0:e.firebaseReady()?1:-1)}}function hs(t,r){if(t&1){let e=rn();S(0,"cue-button",10),on("click",function(){ot(e);let o=y(2);return it(o.signOut())}),V(1,"cue-button-icon",11),R()}t&2&&A("disabled",!1)}function fs(t,r){if(t&1){let e=rn();S(0,"div",8),on("mouseover",function(){ot(e);let o=y();return it(o.signOutHovered.set(!0))})("mouseout",function(){ot(e);let o=y();return it(o.signOutHovered.set(!1))}),_(1,hs,2,1,"cue-button",9),R()}if(t&2){let e=y();v(),E(e.signOutHovered()?1:-1)}}function ps(t,r){t&1&&re(0)}function gs(t,r){if(t&1&&(S(0,"div",13),_(1,ps,1,0,"ng-container",14),R()),t&2){y(2);let e=je(3);v(),A("ngTemplateOutlet",e)}}function ms(t,r){t&1&&re(0)}function vs(t,r){if(t&1&&(S(0,"cue-flexcontainer",12),_(1,gs,2,1,"div",13)(2,ms,1,0,"ng-container",14),R()),t&2){let e=y(),n=je(1);Sr("background-color",e.dark()?"#121c2a":"#f4f6fa"),v(),E(e.token()?1:-1),v(),A("ngTemplateOutlet",n)}}function bs(t,r){t&1&&re(0)}function ys(t,r){if(t&1&&(S(0,"cue-flexcontainer",15)(1,"div",17),_(2,bs,1,0,"ng-container",14),R()()),t&2){y(2);let e=je(3);v(2),A("ngTemplateOutlet",e)}}function ws(t,r){t&1&&re(0)}function Cs(t,r){if(t&1&&(at(0),S(1,"cue-agent-fab",3),_(2,ys,3,1,"cue-flexcontainer",15),S(3,"cue-flexcontainer",16),_(4,ws,1,0,"ng-container",14),R()()),t&2){let e=y(),n=je(1),o=e.options().fab;v(),A("containerHeight",o.containerHeight)("containerWidth",o.containerWidth),v(),E(e.token()?2:-1),v(2),A("ngTemplateOutlet",n)}}var ri=(()=>{class t{_state=l(Te);_element=l(fr);_firebase=l(ie);_auth=l(le);dark=D(!0,{transform:un});fab=D(!1,{transform:un});view=D();pid=D();signOutHovered=w(!1);userProjectRoles=w([]);token=this._auth.token;options=this._state.options;firebaseReady=this._firebase.ready;inputError=H(()=>this.view()===void 0?'"view" attribute cannot be empty!':this.pid()===void 0?'"projectId" attribute cannot be empty!':"");afterSignIn=I(()=>{this.token(),this.signOutHovered.set(!1)});setView=I(()=>this._state.view.set(this.view()));setProject=I(()=>this._state.projectId.set(this.pid()??""));sefFABMode=I(()=>this._state.fabMode.set(this.fab()));appendDarkMode=I(()=>{let e=document.body;this.dark()?e.classList.add("dark"):e.classList.remove("dark")});ngAfterViewInit(){console.log("QAECY Widget version "+ro),this._element.nativeElement.options=e=>{if(e.config===void 0){console.error("Config must be set!");return}this._state.options.update(()=>Object.assign({},e)),this.configureFirebase(e.config)}}configureFirebase(e){this._firebase.init(e)}signOut(){this._auth.signOut()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=G({type:t,selectors:[["app-root"]],inputs:{dark:[1,"dark"],fab:[1,"fab"],view:[1,"view"],pid:[1,"pid"]},decls:6,vars:1,consts:()=>{let e;return e=$localize`Sign out`,[["cueApp",""],["signOutBtn",""],["justify","center",2,"height","100%","overflow-y","auto","position","relative",3,"background-color"],[3,"containerHeight","containerWidth"],["direction","column","justify","center","align","center",2,"height","100%"],["variant","accent"],[2,"width","100%"],[2,"width","100%","height","100%"],[2,"height","100%","width","100%",3,"mouseover","mouseout"],["variant","accent","size","xs","cueTooltip",e,3,"disabled"],["variant","accent","size","xs","cueTooltip",e,3,"click","disabled"],["icon","sign-out"],["justify","center",2,"height","100%","overflow-y","auto","position","relative"],[1,"sign-out-container"],[4,"ngTemplateOutlet"],["header","",2,"width","100%","position","relative"],["justify","center",2,"height","calc(100% - 20px)","margin-top","20px","overflow-y","auto","position","relative"],[1,"sign-out-container-fab"]]},template:function(n,o){n&1&&_(0,ds,2,1,"ng-template",null,0,cn)(2,fs,2,1,"ng-template",null,1,cn)(4,vs,3,4,"cue-flexcontainer",2)(5,Cs,5,4,"cue-agent-fab",3),n&2&&(v(4),E(o.fab()?5:4))},dependencies:[lt,ye,ut,Nr,jr,Dr,ct,Mr,ti,ni,Tr],styles:[`@font-face{font-family:Material Icons;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialicons/v143/flUhRq6tzZclQEJ-Vdg-IuiaDsNc.woff2) format("woff2")}@font-face{font-family:Material Icons Outlined;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialiconsoutlined/v109/gok-H7zzDkdnRel8-DQ6KAXJ69wP1tGnf4ZGhUce.woff2) format("woff2")}@font-face{font-family:Material Icons Round;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialiconsround/v108/LDItaoyNOAY6Uewc665JcIzCKsKc_M9flwmP.woff2) format("woff2")}@font-face{font-family:Material Icons Sharp;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialiconssharp/v109/oPWQ_lt5nv4pWNJpghLP75WiFR4kLh3kvmvR.woff2) format("woff2")}@font-face{font-family:Material Icons Two Tone;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialiconstwotone/v112/hESh6WRmNCxEqUmNyh3JDeGxjVVyMg4tHGctNCu0.woff2) format("woff2")}body{--google-font-color-materialiconstwotone:none}.material-icons{font-family:Material Icons;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}.material-icons-outlined{font-family:Material Icons Outlined;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}.material-icons-round{font-family:Material Icons Round;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}.material-icons-sharp{font-family:Material Icons Sharp;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}.material-icons-two-tone{font-family:Material Icons Two Tone;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}:root{--cue-font-family: "Poppins";--cue-font-weight-regular: 400;--cue-font-weight-medium: 500;--cue-font-weight-semibold: 600;--cue-font-xs-size: 56.25% ;--cue-font-xs-line-height: calc(16 / 11);--cue-font-xs-letter-spacing: .075em;--cue-font-s-size: 68.75% ;--cue-font-s-line-height: calc(16 / 11);--cue-font-s-letter-spacing: .05em;--cue-font-m-size: 87.5% ;--cue-font-m-line-height: calc(20 / 14);--cue-font-m-letter-spacing: .04em;--cue-font-l-size: 112.5% ;--cue-font-l-line-height: calc(24 / 18);--cue-font-l-letter-spacing: .01em;--cue-font-xl-size: 150% ;--cue-font-xl-line-height: calc(32 / 24);--cue-font-xl-letter-spacing: .01em}:root{--cue-color-blue: #2859e1;--cue-color-darkblue: #1744c2;--cue-color-ultralightgray: #f5f6f9;--cue-color-lightgray: #d9d9d9;--cue-color-midgray: #8394b0;--cue-color-darkmidgray: #404955;--cue-color-darkgray: #121c2b;--cue-color-black: #0e1827;--cue-color-white: #ffffff;--cue-color-green: #e2f552;--cue-main-background: var(--cue-color-ultralightgray);--cue-main-foreground: var(--cue-color-darkgray);--cue-default: var(--cue-color-white);--cue-defaultContrast: var(--cue-color-darkgray);--cue-primary: var(--cue-color-blue);--cue-primaryContrast: var(--cue-color-white);--cue-accent: var(--cue-color-green);--cue-accentContrast: var(--cue-color-darkgray);--cue-secondary: var(--cue-color-darkblue);--cue-secondaryContrast: var(--cue-color-white);--cue-neutral: var(--cue-color-midgray);--cue-neutralContrast: var(--cue-color-darkgray);--cue-info: var(--cue-color-darkblue);--cue-infoContrast: var(--cue-color-white);--cue-error: #fc2626;--cue-errorContrast: var(--cue-color-white);--cue-success: #4caf50;--cue-successContrast: var(--cue-color-white);--cue-warning: #ffc107;--cue-warningContrast: var(--cue-color-white);--cue-border-color: var(--cue-color-lightgray);--cue-scrollbar-thumb-color: var(--cue-color-lightgray);--cue-scrollbar-track-color: transparent}body.dark{--cue-main-background: var(--cue-color-darkgray);--cue-main-foreground: var(--cue-color-white);--cue-default: var(--cue-color-black);--cue-defaultContrast: var(--cue-color-ultralightgray);--cue-neutral: var(--cue-color-midgray);--cue-neutralContrast: var(--cue-color-white);--cue-border-color: var(--cue-color-darkmidgray);--cue-scrollbar-thumb-color: var(--cue-color-darkmidgray)}:root{--cue-dim-gap-s: .5em ;--cue-dim-gap-m: 1em ;--cue-dim-gap-l: 1.875em ;--cue-dim-elem-xs: 1.5em ;--cue-dim-elem-s: 2em ;--cue-dim-elem-m: 2.75em ;--cue-dim-s-gap-s: .375em ;--cue-dim-s-gap-m: .625em ;--cue-dim-s-gap-l: 1em ;--cue-dim-s-elem-xs: 1em ;--cue-dim-s-elem-s: 1.25em ;--cue-dim-s-elem-m: 1.75em ;--cue-dim-padding-main: .625em ;--cue-dim-padding-sub: .625em }@media (min-width: 20em){:root{--cue-dim-padding-main: 1.25em ;--cue-dim-padding-sub: .625em }}@media (min-width: 40em){:root{--cue-dim-padding-main: 2em ;--cue-dim-padding-sub: 1em }}:root{--cue-card-border-radius: 1.875em ;--cue-card-padding-x: 1em ;--cue-card-padding-y: 1em ;--cue-card-border-color: var(--cue-border-color);--cue-card-box-shadow: 0 1px 1.5em rgba(0, 0, 0, .2)}body.dark{--cue-card-box-shadow: 0 1px 1.5em rgba(255, 255, 255, .3);--cue-card-border-color: var(--cue-border-color)}@container cue-container (width < 20em){cue-card{--cue-card-border-radius: 1.25em ;--cue-card-padding-x: .75em ;--cue-card-padding-y: .75em }}:root{--cue-button-gap: .5em ;--cue-button-xs-height: var(--cue-dim-elem-xs);--cue-button-xs-padding-x: .1875em ;--cue-button-xs-icon-width: 1.125em ;--cue-button-s-height: var(--cue-dim-elem-s);--cue-button-s-padding-x: .375em ;--cue-button-s-icon-width: 1.25em ;--cue-button-m-height: var(--cue-dim-elem-m);--cue-button-m-padding-x: .625em ;--cue-button-m-icon-width: 1.5em ;--cue-button-border-radius: var(--button-height);--cue-button-border-width: 1px;--cue-button-border-style: solid;--cue-button-primary-background: var(--cue-color-blue);--cue-button-primary-foreground: var(--cue-color-white);--cue-button-primary-focus-color: var(--cue-color-blue);--cue-button-primary-border-color: var(--cue-color-blue);--cue-button-primary-disabled-foreground: var( --background-color, --cue-main-background );--cue-button-primary-disabled-foreground: var(--cue-color-lightgray);--cue-button-primary-disabled-background: var(--cue-color-ultralightgray);--cue-button-primary-disabled-border-color: var(--cue-color-ultralightgray);--cue-button-accent-background: var(--cue-accent);--cue-button-accent-foreground: var(--cue-accentContrast);--cue-button-accent-focus-color: var(--cue-accent);--cue-button-accent-border-color: var(--cue-accent);--cue-button-accent-disabled-foreground: var( --background-color, --cue-main-background );--cue-button-accent-disabled-foreground: var(--cue-color-lightgray);--cue-button-accent-disabled-background: var(--cue-color-ultralightgray);--cue-button-accent-disabled-border-color: var(--cue-color-ultralightgray);--cue-button-secondary-background: transparent;--cue-button-secondary-foreground: currentColor;--cue-button-secondary-focus-color: currentColor;--cue-button-secondary-border-color: currentColor;--cue-button-secondary-disabled-background: transparent;--cue-button-secondary-disabled-foreground: var(--cue-color-midgray);--cue-button-secondary-disabled-border-color: var(--cue-color-midgray);--cue-button-tertiary-background: transparent;--cue-button-tertiary-foreground: currentColor;--cue-button-tertiary-focus-color: currentColor;--cue-button-tertiary-border-color: trasnparent;--cue-button-tertiary-disabled-background: transparent;--cue-button-tertiary-disabled-foreground: var(--cue-color-midgray);--cue-button-tertiary-disabled-border-color: transparent;--cue-button-s-label-padding-x: 1em ;--cue-button-m-label-padding-x: 1.5em ;--cue-button-l-label-padding-x: 3em }@media (prefers-color-scheme: dark){:root{--cue-button-primary-disabled-foreground: var(--cue-color-midgray);--cue-button-primary-disabled-border-color: var(--cue-color-midgray);--cue-button-primary-disabled-background: var(--cue-color-lightgray);--cue-button-secondary-disabled-foreground: var(--cue-color-darkmidgray);--cue-button-secondary-disabled-border-color: var(--cue-color-darkmidgray);--cue-button-tertiary-disabled-foreground: var(--cue-color-darkmidgray)}}@container cue-container (width < 20em){cue-button{--cue-button-xs-height: var(--cue-dim-s-elem-xs);--cue-button-xs-padding-x: .0625em ;--cue-button-xs-icon-width: .75em ;--cue-button-s-height: var(--cue-dim-s-elem-s);--cue-button-s-padding-x: .25em ;--cue-button-s-icon-width: 1em ;--cue-button-m-height: var(--cue-dim-s-elem-m);--cue-button-m-padding-x: .25em ;--cue-button-m-icon-width: 1.125em }}:root{--cue-input-switch-background: var(--cue-color-midgray);--cue-input-switch-indicator-background: var(--cue-color-white);--cue-input-switch-indicator-foreground: var(--cue-color-black);--cue-input-switch-focus-color: var(--cue-color-white);--cue-input-switch-checked-background: var(--cue-color-darkblue);--cue-input-switch-checked-indicator-background: var(--cue-color-white);--cue-input-switch-checked-indicator-foreground: var(--cue-color-black);--cue-input-switch-disabled-background: var(--cue-color-midgray);--cue-input-switch-disabled-indicator-background: var(--cue-color-lightgray);--cue-input-switch-disabled-indicator-foreground: var(--cue-color-midgray)}:root{--cue-menu-border-radius: .9375em ;--cue-menu-padding-x: .5em ;--cue-menu-padding-y: .5em ;--cue-menu-gap: .5em ;--cue-menu-background-color: var(--cue-color-white);--cue-menu-foreground-color: var(--cue-color-black);--cue-menu-border-color: var(--cue-border-color);--cue-menu-box-shadow: 0 1px 1.25em rgba(0, 0, 0, .1);--cue-menu-item-background-color: var(--cue-color-white);--cue-menu-item-selected-background-color: var(--cue-color-lightgray);--cue-menu-item-focus-background-color: var(--cue-color-ultralightgray);--cue-menu-item-height: var(--cue-dim-elem-m);--cue-menu-item-border-radius: .9375em ;--cue-menu-item-padding-x: 1em ;--cue-menu-item-gap: 1em ;--cue-menu-item-icon-size: 1.25em }body.dark{--cue-menu-box-shadow: 0 1px 1.25em rgba(255, 255, 255, .1);--cue-menu-background-color: var(--cue-color-black);--cue-menu-foreground-color: var(--cue-color-white);--cue-menu-border-color: var(--cue-border-color);--cue-menu-item-background-color: var(--cue-color-black);--cue-menu-item-selected-background-color: var(--cue-color-midgray);--cue-menu-item-focus-background-color: var(--cue-color-darkmidgray)}:root{--cue-grid-gap-s: var(--cue-dim-gap-s);--cue-grid-gap-m: var(--cue-dim-gap-m);--cue-grid-gap-l: var(--cue-dim-gap-l)}:root{--cue-paginator-text-color: var(--cue-main-foreground)}body.dark{--cue-paginator-text-color: var(--cue-main-foreground)}:root{--cue-table-row-border-bottom: 1px solid;--cue-table-row-border-bottom-color: var(--cue-color-midgray);--cue-table-text-color: var(--cue-main-foreground);--cue-table-highlight-color: var(--cue-color-green);--cue-table-selected-color: var(--cue-color-green)}body.dark{--cue-table-row-border-bottom-color: var(--cue-color-lightgray);--cue-table-text-color: var(--cue-main-foreground)}:root{--cue-flex-gap-s: var(--cue-dim-gap-s);--cue-flex-gap-m: var(--cue-dim-gap-m);--cue-flex-gap-l: var(--cue-dim-gap-l)}:root{--cue-icon-width: var(--cue-dim-elem-xs)}:root{color-scheme:light}html{padding:0;margin:0;height:100%;width:100%}body{display:flex;flex-direction:column}body.dark{color-scheme:dark}body>*{scrollbar-color:var(--cue-scrollbar-thumb-color) var(--cue-scrollbar-track-color);scrollbar-width:thin;scroll-behavior:smooth}.sb-show-main,.sb-main-padded{display:flex!important;min-height:100%;padding:0!important}.sb-show-main #storybook-root,.sb-main-padded #storybook-root{display:contents}.sb-show-main #storybook-root storybook-root,.sb-main-padded #storybook-root storybook-root{display:contents}.docs-story{background-color:var(--cue-main-background)!important;color:var(--cue-main-foreground)!important}
`,`.sign-out-container{position:absolute;top:2px;left:2px;height:50px;width:50px}.sign-out-container-fab{position:absolute;top:-15px;left:5px;height:50px;width:50px}
`],encapsulation:2})}return t})();var _s=":";function Ss(t,r){for(let e=1,n=1;e<t.length;e++,n++)if(r[n]==="\\")n++;else if(t[e]===_s)return e;throw new Error(`Unterminated $localize metadata block in "${r}".`)}var Bt=function(t,...r){if(Bt.translate){let n=Bt.translate(t,r);t=n[0],r=n[1]}let e=oi(t[0],t.raw[0]);for(let n=1;n<t.length;n++)e+=r[n-1]+oi(t[n],t.raw[n]);return e},Rs=":";function oi(t,r){return r.charAt(0)===Rs?t.substring(Ss(t,r)+1):t}globalThis.$localize=Bt;Ar(oo).then(t=>{let r=io(ri,{injector:t.injector});customElements.define("qaecy-cue",r)}).catch(t=>console.error(t));
